'use strict';var cov_1jglxostv6=function(){var path="/home/somto/1Projects/Andela/We-Connect/lib/test/reviews-spec.js",hash="966f5593247bd69839d53a747a0e0e0c7f08b454",Function=function(){}.constructor,global=new Function('return this')(),gcv="__coverage__",coverageData={path:"/home/somto/1Projects/Andela/We-Connect/lib/test/reviews-spec.js",statementMap:{"0":{start:{line:3,column:12},end:{line:3,column:27}},"1":{start:{line:5,column:13},end:{line:5,column:42}},"2":{start:{line:7,column:17},end:{line:7,column:37}},"3":{start:{line:9,column:18},end:{line:9,column:52}},"4":{start:{line:11,column:14},end:{line:11,column:41}},"5":{start:{line:13,column:15},end:{line:13,column:46}},"6":{start:{line:15,column:11},end:{line:15,column:28}},"7":{start:{line:17,column:12},end:{line:17,column:40}},"8":{start:{line:19,column:39},end:{line:19,column:93}},"9":{start:{line:23,column:0},end:{line:23,column:30}},"10":{start:{line:25,column:0},end:{line:25,column:24}},"11":{start:{line:26,column:14},end:{line:26,column:53}},"12":{start:{line:27,column:11},end:{line:27,column:86}},"13":{start:{line:28,column:11},end:{line:28,column:18}},"14":{start:{line:29,column:15},end:{line:29,column:22}},"15":{start:{line:30,column:13},end:{line:30,column:20}},"16":{start:{line:33,column:0},end:{line:542,column:3}},"17":{start:{line:34,column:2},end:{line:41,column:5}},"18":{start:{line:36,column:4},end:{line:36,column:45}},"19":{start:{line:37,column:4},end:{line:37,column:49}},"20":{start:{line:38,column:4},end:{line:40,column:7}},"21":{start:{line:39,column:6},end:{line:39,column:20}},"22":{start:{line:43,column:2},end:{line:147,column:5}},"23":{start:{line:44,column:4},end:{line:51,column:7}},"24":{start:{line:45,column:6},end:{line:50,column:9}},"25":{start:{line:46,column:8},end:{line:46,column:36}},"26":{start:{line:47,column:8},end:{line:47,column:38}},"27":{start:{line:48,column:8},end:{line:48,column:41}},"28":{start:{line:49,column:8},end:{line:49,column:15}},"29":{start:{line:52,column:4},end:{line:99,column:7}},"30":{start:{line:53,column:6},end:{line:98,column:9}},"31":{start:{line:69,column:8},end:{line:97,column:11}},"32":{start:{line:83,column:10},end:{line:96,column:13}},"33":{start:{line:88,column:12},end:{line:95,column:15}},"34":{start:{line:89,column:14},end:{line:89,column:42}},"35":{start:{line:90,column:14},end:{line:90,column:44}},"36":{start:{line:91,column:14},end:{line:91,column:87}},"37":{start:{line:92,column:14},end:{line:92,column:97}},"38":{start:{line:93,column:14},end:{line:93,column:105}},"39":{start:{line:94,column:14},end:{line:94,column:21}},"40":{start:{line:101,column:4},end:{line:146,column:7}},"41":{start:{line:102,column:6},end:{line:145,column:9}},"42":{start:{line:118,column:8},end:{line:144,column:11}},"43":{start:{line:132,column:10},end:{line:143,column:13}},"44":{start:{line:137,column:12},end:{line:142,column:15}},"45":{start:{line:138,column:14},end:{line:138,column:42}},"46":{start:{line:139,column:14},end:{line:139,column:44}},"47":{start:{line:140,column:14},end:{line:140,column:47}},"48":{start:{line:141,column:14},end:{line:141,column:21}},"49":{start:{line:149,column:2},end:{line:242,column:5}},"50":{start:{line:150,column:4},end:{line:193,column:7}},"51":{start:{line:151,column:6},end:{line:192,column:9}},"52":{start:{line:167,column:8},end:{line:191,column:11}},"53":{start:{line:181,column:10},end:{line:190,column:13}},"54":{start:{line:186,column:12},end:{line:186,column:40}},"55":{start:{line:187,column:12},end:{line:187,column:43}},"56":{start:{line:188,column:12},end:{line:188,column:77}},"57":{start:{line:189,column:12},end:{line:189,column:19}},"58":{start:{line:195,column:4},end:{line:241,column:7}},"59":{start:{line:196,column:6},end:{line:240,column:9}},"60":{start:{line:212,column:8},end:{line:239,column:11}},"61":{start:{line:226,column:10},end:{line:238,column:13}},"62":{start:{line:231,column:12},end:{line:231,column:40}},"63":{start:{line:232,column:12},end:{line:232,column:43}},"64":{start:{line:233,column:12},end:{line:233,column:65}},"65":{start:{line:234,column:12},end:{line:234,column:72}},"66":{start:{line:235,column:12},end:{line:235,column:76}},"67":{start:{line:236,column:12},end:{line:236,column:84}},"68":{start:{line:237,column:12},end:{line:237,column:19}},"69":{start:{line:244,column:2},end:{line:447,column:5}},"70":{start:{line:245,column:4},end:{line:296,column:7}},"71":{start:{line:246,column:6},end:{line:295,column:9}},"72":{start:{line:262,column:8},end:{line:294,column:11}},"73":{start:{line:276,column:10},end:{line:293,column:13}},"74":{start:{line:281,column:12},end:{line:292,column:15}},"75":{start:{line:286,column:14},end:{line:286,column:42}},"76":{start:{line:287,column:14},end:{line:287,column:76}},"77":{start:{line:288,column:14},end:{line:288,column:73}},"78":{start:{line:289,column:14},end:{line:289,column:78}},"79":{start:{line:290,column:14},end:{line:290,column:91}},"80":{start:{line:291,column:14},end:{line:291,column:21}},"81":{start:{line:298,column:4},end:{line:346,column:7}},"82":{start:{line:299,column:6},end:{line:345,column:9}},"83":{start:{line:315,column:8},end:{line:344,column:11}},"84":{start:{line:329,column:10},end:{line:343,column:13}},"85":{start:{line:334,column:12},end:{line:342,column:15}},"86":{start:{line:339,column:14},end:{line:339,column:42}},"87":{start:{line:340,column:14},end:{line:340,column:79}},"88":{start:{line:341,column:14},end:{line:341,column:21}},"89":{start:{line:348,column:4},end:{line:396,column:7}},"90":{start:{line:349,column:6},end:{line:395,column:9}},"91":{start:{line:365,column:8},end:{line:394,column:11}},"92":{start:{line:379,column:10},end:{line:393,column:13}},"93":{start:{line:384,column:12},end:{line:392,column:15}},"94":{start:{line:389,column:14},end:{line:389,column:42}},"95":{start:{line:390,column:14},end:{line:390,column:86}},"96":{start:{line:391,column:14},end:{line:391,column:21}},"97":{start:{line:398,column:4},end:{line:446,column:7}},"98":{start:{line:399,column:6},end:{line:445,column:9}},"99":{start:{line:415,column:8},end:{line:444,column:11}},"100":{start:{line:429,column:10},end:{line:443,column:13}},"101":{start:{line:434,column:12},end:{line:442,column:15}},"102":{start:{line:439,column:14},end:{line:439,column:42}},"103":{start:{line:440,column:14},end:{line:440,column:90}},"104":{start:{line:441,column:14},end:{line:441,column:21}},"105":{start:{line:449,column:2},end:{line:541,column:5}},"106":{start:{line:450,column:4},end:{line:494,column:7}},"107":{start:{line:451,column:6},end:{line:493,column:9}},"108":{start:{line:467,column:8},end:{line:492,column:11}},"109":{start:{line:481,column:10},end:{line:491,column:13}},"110":{start:{line:486,column:12},end:{line:490,column:15}},"111":{start:{line:487,column:14},end:{line:487,column:42}},"112":{start:{line:488,column:14},end:{line:488,column:79}},"113":{start:{line:489,column:14},end:{line:489,column:21}},"114":{start:{line:496,column:4},end:{line:540,column:7}},"115":{start:{line:497,column:6},end:{line:539,column:9}},"116":{start:{line:513,column:8},end:{line:538,column:11}},"117":{start:{line:527,column:10},end:{line:537,column:13}},"118":{start:{line:532,column:12},end:{line:536,column:15}},"119":{start:{line:533,column:14},end:{line:533,column:42}},"120":{start:{line:534,column:14},end:{line:534,column:45}},"121":{start:{line:535,column:14},end:{line:535,column:21}}},fnMap:{"0":{name:"_interopRequireDefault",decl:{start:{line:19,column:9},end:{line:19,column:31}},loc:{start:{line:19,column:37},end:{line:19,column:95}},line:19},"1":{name:"(anonymous_1)",decl:{start:{line:33,column:20},end:{line:33,column:21}},loc:{start:{line:33,column:32},end:{line:542,column:1}},line:33},"2":{name:"(anonymous_2)",decl:{start:{line:34,column:13},end:{line:34,column:14}},loc:{start:{line:34,column:29},end:{line:41,column:3}},line:34},"3":{name:"(anonymous_3)",decl:{start:{line:38,column:52},end:{line:38,column:53}},loc:{start:{line:38,column:64},end:{line:40,column:5}},line:38},"4":{name:"(anonymous_4)",decl:{start:{line:43,column:26},end:{line:43,column:27}},loc:{start:{line:43,column:38},end:{line:147,column:3}},line:43},"5":{name:"(anonymous_5)",decl:{start:{line:44,column:38},end:{line:44,column:39}},loc:{start:{line:44,column:54},end:{line:51,column:5}},line:44},"6":{name:"(anonymous_6)",decl:{start:{line:45,column:50},end:{line:45,column:51}},loc:{start:{line:45,column:70},end:{line:50,column:7}},line:45},"7":{name:"(anonymous_7)",decl:{start:{line:52,column:40},end:{line:52,column:41}},loc:{start:{line:52,column:56},end:{line:99,column:5}},line:52},"8":{name:"(anonymous_8)",decl:{start:{line:68,column:14},end:{line:68,column:15}},loc:{start:{line:68,column:30},end:{line:98,column:7}},line:68},"9":{name:"(anonymous_9)",decl:{start:{line:82,column:16},end:{line:82,column:17}},loc:{start:{line:82,column:36},end:{line:97,column:9}},line:82},"10":{name:"(anonymous_10)",decl:{start:{line:87,column:18},end:{line:87,column:19}},loc:{start:{line:87,column:30},end:{line:96,column:11}},line:87},"11":{name:"(anonymous_11)",decl:{start:{line:88,column:85},end:{line:88,column:86}},loc:{start:{line:88,column:105},end:{line:95,column:13}},line:88},"12":{name:"(anonymous_12)",decl:{start:{line:101,column:65},end:{line:101,column:66}},loc:{start:{line:101,column:81},end:{line:146,column:5}},line:101},"13":{name:"(anonymous_13)",decl:{start:{line:117,column:14},end:{line:117,column:15}},loc:{start:{line:117,column:30},end:{line:145,column:7}},line:117},"14":{name:"(anonymous_14)",decl:{start:{line:131,column:16},end:{line:131,column:17}},loc:{start:{line:131,column:36},end:{line:144,column:9}},line:131},"15":{name:"(anonymous_15)",decl:{start:{line:136,column:18},end:{line:136,column:19}},loc:{start:{line:136,column:30},end:{line:143,column:11}},line:136},"16":{name:"(anonymous_16)",decl:{start:{line:137,column:56},end:{line:137,column:57}},loc:{start:{line:137,column:76},end:{line:142,column:13}},line:137},"17":{name:"(anonymous_17)",decl:{start:{line:149,column:27},end:{line:149,column:28}},loc:{start:{line:149,column:39},end:{line:242,column:3}},line:149},"18":{name:"(anonymous_18)",decl:{start:{line:150,column:57},end:{line:150,column:58}},loc:{start:{line:150,column:73},end:{line:193,column:5}},line:150},"19":{name:"(anonymous_19)",decl:{start:{line:166,column:14},end:{line:166,column:15}},loc:{start:{line:166,column:30},end:{line:192,column:7}},line:166},"20":{name:"(anonymous_20)",decl:{start:{line:180,column:16},end:{line:180,column:17}},loc:{start:{line:180,column:36},end:{line:191,column:9}},line:180},"21":{name:"(anonymous_21)",decl:{start:{line:185,column:17},end:{line:185,column:18}},loc:{start:{line:185,column:37},end:{line:190,column:11}},line:185},"22":{name:"(anonymous_22)",decl:{start:{line:195,column:34},end:{line:195,column:35}},loc:{start:{line:195,column:50},end:{line:241,column:5}},line:195},"23":{name:"(anonymous_23)",decl:{start:{line:211,column:14},end:{line:211,column:15}},loc:{start:{line:211,column:30},end:{line:240,column:7}},line:211},"24":{name:"(anonymous_24)",decl:{start:{line:225,column:16},end:{line:225,column:17}},loc:{start:{line:225,column:36},end:{line:239,column:9}},line:225},"25":{name:"(anonymous_25)",decl:{start:{line:230,column:17},end:{line:230,column:18}},loc:{start:{line:230,column:37},end:{line:238,column:11}},line:230},"26":{name:"(anonymous_26)",decl:{start:{line:244,column:26},end:{line:244,column:27}},loc:{start:{line:244,column:38},end:{line:447,column:3}},line:244},"27":{name:"(anonymous_27)",decl:{start:{line:245,column:49},end:{line:245,column:50}},loc:{start:{line:245,column:65},end:{line:296,column:5}},line:245},"28":{name:"(anonymous_28)",decl:{start:{line:261,column:14},end:{line:261,column:15}},loc:{start:{line:261,column:30},end:{line:295,column:7}},line:261},"29":{name:"(anonymous_29)",decl:{start:{line:275,column:16},end:{line:275,column:17}},loc:{start:{line:275,column:36},end:{line:294,column:9}},line:275},"30":{name:"(anonymous_30)",decl:{start:{line:280,column:18},end:{line:280,column:19}},loc:{start:{line:280,column:36},end:{line:293,column:11}},line:280},"31":{name:"(anonymous_31)",decl:{start:{line:285,column:19},end:{line:285,column:20}},loc:{start:{line:285,column:39},end:{line:292,column:13}},line:285},"32":{name:"(anonymous_32)",decl:{start:{line:298,column:59},end:{line:298,column:60}},loc:{start:{line:298,column:75},end:{line:346,column:5}},line:298},"33":{name:"(anonymous_33)",decl:{start:{line:314,column:14},end:{line:314,column:15}},loc:{start:{line:314,column:30},end:{line:345,column:7}},line:314},"34":{name:"(anonymous_34)",decl:{start:{line:328,column:16},end:{line:328,column:17}},loc:{start:{line:328,column:36},end:{line:344,column:9}},line:328},"35":{name:"(anonymous_35)",decl:{start:{line:333,column:18},end:{line:333,column:19}},loc:{start:{line:333,column:30},end:{line:343,column:11}},line:333},"36":{name:"(anonymous_36)",decl:{start:{line:338,column:19},end:{line:338,column:20}},loc:{start:{line:338,column:39},end:{line:342,column:13}},line:338},"37":{name:"(anonymous_37)",decl:{start:{line:348,column:61},end:{line:348,column:62}},loc:{start:{line:348,column:77},end:{line:396,column:5}},line:348},"38":{name:"(anonymous_38)",decl:{start:{line:364,column:14},end:{line:364,column:15}},loc:{start:{line:364,column:30},end:{line:395,column:7}},line:364},"39":{name:"(anonymous_39)",decl:{start:{line:378,column:16},end:{line:378,column:17}},loc:{start:{line:378,column:36},end:{line:394,column:9}},line:378},"40":{name:"(anonymous_40)",decl:{start:{line:383,column:18},end:{line:383,column:19}},loc:{start:{line:383,column:36},end:{line:393,column:11}},line:383},"41":{name:"(anonymous_41)",decl:{start:{line:388,column:19},end:{line:388,column:20}},loc:{start:{line:388,column:39},end:{line:392,column:13}},line:388},"42":{name:"(anonymous_42)",decl:{start:{line:398,column:61},end:{line:398,column:62}},loc:{start:{line:398,column:77},end:{line:446,column:5}},line:398},"43":{name:"(anonymous_43)",decl:{start:{line:414,column:14},end:{line:414,column:15}},loc:{start:{line:414,column:30},end:{line:445,column:7}},line:414},"44":{name:"(anonymous_44)",decl:{start:{line:428,column:16},end:{line:428,column:17}},loc:{start:{line:428,column:36},end:{line:444,column:9}},line:428},"45":{name:"(anonymous_45)",decl:{start:{line:433,column:18},end:{line:433,column:19}},loc:{start:{line:433,column:36},end:{line:443,column:11}},line:433},"46":{name:"(anonymous_46)",decl:{start:{line:438,column:19},end:{line:438,column:20}},loc:{start:{line:438,column:39},end:{line:442,column:13}},line:438},"47":{name:"(anonymous_47)",decl:{start:{line:449,column:33},end:{line:449,column:34}},loc:{start:{line:449,column:45},end:{line:541,column:3}},line:449},"48":{name:"(anonymous_48)",decl:{start:{line:450,column:59},end:{line:450,column:60}},loc:{start:{line:450,column:75},end:{line:494,column:5}},line:450},"49":{name:"(anonymous_49)",decl:{start:{line:466,column:14},end:{line:466,column:15}},loc:{start:{line:466,column:30},end:{line:493,column:7}},line:466},"50":{name:"(anonymous_50)",decl:{start:{line:480,column:16},end:{line:480,column:17}},loc:{start:{line:480,column:36},end:{line:492,column:9}},line:480},"51":{name:"(anonymous_51)",decl:{start:{line:485,column:18},end:{line:485,column:19}},loc:{start:{line:485,column:30},end:{line:491,column:11}},line:485},"52":{name:"(anonymous_52)",decl:{start:{line:486,column:90},end:{line:486,column:91}},loc:{start:{line:486,column:110},end:{line:490,column:13}},line:486},"53":{name:"(anonymous_53)",decl:{start:{line:496,column:49},end:{line:496,column:50}},loc:{start:{line:496,column:65},end:{line:540,column:5}},line:496},"54":{name:"(anonymous_54)",decl:{start:{line:512,column:14},end:{line:512,column:15}},loc:{start:{line:512,column:30},end:{line:539,column:7}},line:512},"55":{name:"(anonymous_55)",decl:{start:{line:526,column:16},end:{line:526,column:17}},loc:{start:{line:526,column:36},end:{line:538,column:9}},line:526},"56":{name:"(anonymous_56)",decl:{start:{line:531,column:18},end:{line:531,column:19}},loc:{start:{line:531,column:36},end:{line:537,column:11}},line:531},"57":{name:"(anonymous_57)",decl:{start:{line:532,column:112},end:{line:532,column:113}},loc:{start:{line:532,column:132},end:{line:536,column:13}},line:532}},branchMap:{"0":{loc:{start:{line:19,column:46},end:{line:19,column:92}},type:"cond-expr",locations:[{start:{line:19,column:70},end:{line:19,column:73}},{start:{line:19,column:76},end:{line:19,column:92}}],line:19},"1":{loc:{start:{line:19,column:46},end:{line:19,column:67}},type:"binary-expr",locations:[{start:{line:19,column:46},end:{line:19,column:49}},{start:{line:19,column:53},end:{line:19,column:67}}],line:19}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"d34fc3e6b8297bcde183f5492bcb8fcb36775295"},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();var _chai=(cov_1jglxostv6.s[0]++,require('chai'));var _chai2=(cov_1jglxostv6.s[1]++,_interopRequireDefault(_chai));var _supertest=(cov_1jglxostv6.s[2]++,require('supertest'));var _supertest2=(cov_1jglxostv6.s[3]++,_interopRequireDefault(_supertest));var _models=(cov_1jglxostv6.s[4]++,require('../server/models'));var _models2=(cov_1jglxostv6.s[5]++,_interopRequireDefault(_models));var _app=(cov_1jglxostv6.s[6]++,require('../app'));var _app2=(cov_1jglxostv6.s[7]++,_interopRequireDefault(_app));function _interopRequireDefault(obj){cov_1jglxostv6.f[0]++;cov_1jglxostv6.s[8]++;return(cov_1jglxostv6.b[1][0]++,obj)&&(cov_1jglxostv6.b[1][1]++,obj.__esModule)?(cov_1jglxostv6.b[0][0]++,obj):(cov_1jglxostv6.b[0][1]++,{default:obj});}// During the test the env variable is set to test
// Require the dev-dependencies
cov_1jglxostv6.s[9]++;process.env.NODE_ENV='test';cov_1jglxostv6.s[10]++;_chai2.default.should();var request=(cov_1jglxostv6.s[11]++,(0,_supertest2.default)(_app2.default));var _ref=(cov_1jglxostv6.s[12]++,[_models2.default.User,_models2.default.Business,_models2.default.Review]),User=(cov_1jglxostv6.s[13]++,_ref[0]),Business=(cov_1jglxostv6.s[14]++,_ref[1]),Review=(cov_1jglxostv6.s[15]++,_ref[2]);cov_1jglxostv6.s[16]++;describe('Reviews',function(){cov_1jglxostv6.f[1]++;cov_1jglxostv6.s[17]++;beforeEach(function(done){cov_1jglxostv6.f[2]++;cov_1jglxostv6.s[18]++;// Before each test we empty the database
User.destroy({where:{},force:true});cov_1jglxostv6.s[19]++;Business.destroy({where:{},force:true});cov_1jglxostv6.s[20]++;Review.destroy({where:{},force:true}).then(function(){cov_1jglxostv6.f[3]++;cov_1jglxostv6.s[21]++;return done();});});cov_1jglxostv6.s[22]++;describe('/GET review',function(){cov_1jglxostv6.f[4]++;cov_1jglxostv6.s[23]++;it('it should GET empty reviews',function(done){cov_1jglxostv6.f[5]++;cov_1jglxostv6.s[24]++;request.get('/v1/businesses/1/reviews').end(function(err,res){cov_1jglxostv6.f[6]++;cov_1jglxostv6.s[25]++;res.should.have.status(200);cov_1jglxostv6.s[26]++;res.body.should.be.a('array');cov_1jglxostv6.s[27]++;res.body.length.should.be.eql(0);cov_1jglxostv6.s[28]++;done();});});cov_1jglxostv6.s[29]++;it('it should GET all the reviews',function(done){cov_1jglxostv6.f[7]++;cov_1jglxostv6.s[30]++;User.create({title:'mr',firstname:'somto',lastname:'Ikwuoma',username:'sommy1',password:'123',email:'somto1@gmail.com',gender:'male',street:'ljan terrasse 346',city:'ikotun',state:'lagos',country:'Nigeria',dob:'2015-11-04',phone:'166976498',userImage:'usersUploads/testFile.png'}).then(function(user){cov_1jglxostv6.f[8]++;cov_1jglxostv6.s[31]++;Business.create({businessName:'Sommy',description:'We produce quality products',street:'4 jvjvkjvj, kfkjfj',city:'Sinner',state:'Lagos',country:'Nigeria',datefound:'2015-11-04',email:'wecon@bfbf.b',phone:'34165448',category:'Production',companyImage:'',userId:user.dataValues.id}).then(function(business){cov_1jglxostv6.f[9]++;cov_1jglxostv6.s[32]++;Review.create({response:'come',userId:user.dataValues.id,businessId:business.dataValues.id}).then(function(){cov_1jglxostv6.f[10]++;cov_1jglxostv6.s[33]++;request.get('/v1/businesses/'+business.dataValues.id+'/reviews').end(function(err,res){cov_1jglxostv6.f[11]++;cov_1jglxostv6.s[34]++;res.should.have.status(200);cov_1jglxostv6.s[35]++;res.body.should.be.a('array');cov_1jglxostv6.s[36]++;res.body.should.have.deep.property('0').property('response').eql('come');cov_1jglxostv6.s[37]++;res.body.should.have.deep.property('0').property('userId').eql(user.dataValues.id);cov_1jglxostv6.s[38]++;res.body.should.have.deep.property('0').property('businessId').eql(business.dataValues.id);cov_1jglxostv6.s[39]++;done();});});});});});cov_1jglxostv6.s[40]++;it('it should GET empty reviews if reviews does not exists',function(done){cov_1jglxostv6.f[12]++;cov_1jglxostv6.s[41]++;User.create({title:'mr',firstname:'somto',lastname:'Ikwuoma',username:'sommy',password:'123',email:'somto@gmail.com',gender:'male',street:'ljan terrasse 346',city:'ikotun',state:'lagos',country:'Nigeria',dob:'2015-11-04',phone:'66976498',userImage:'usersUploads/testFile.png'}).then(function(user){cov_1jglxostv6.f[13]++;cov_1jglxostv6.s[42]++;Business.create({businessName:'Sommy1',description:'We produce quality products',street:'4 jvjvkjvj, kfkjfj',city:'Sinner',state:'Lagos',country:'Nigeria',datefound:'2015-11-04',email:'wecon1@bfbf.b',phone:'134165448',category:'Production',companyImage:'',userId:user.dataValues.id}).then(function(business){cov_1jglxostv6.f[14]++;cov_1jglxostv6.s[43]++;Review.create({response:1,userId:user.dataValues.id,businessId:business.dataValues.id}).then(function(){cov_1jglxostv6.f[15]++;cov_1jglxostv6.s[44]++;request.get('/v1/businesses/1/reviews').end(function(err,res){cov_1jglxostv6.f[16]++;cov_1jglxostv6.s[45]++;res.should.have.status(200);cov_1jglxostv6.s[46]++;res.body.should.be.a('array');cov_1jglxostv6.s[47]++;res.body.length.should.be.eql(0);cov_1jglxostv6.s[48]++;done();});});});});});});cov_1jglxostv6.s[49]++;describe('/POST review',function(){cov_1jglxostv6.f[17]++;cov_1jglxostv6.s[50]++;it('it should not POST a review without a response',function(done){cov_1jglxostv6.f[18]++;cov_1jglxostv6.s[51]++;User.create({title:'mr',firstname:'somto',lastname:'Ikwuoma',username:'zuma',password:'zumarock',email:'rock@gmail.com',gender:'male',street:'ljan terrasse 346',city:'ikotun',state:'lagos',country:'Nigeria',dob:'2015-11-04',phone:'00110011',userImage:'usersUploads/testFile.png'}).then(function(user){cov_1jglxostv6.f[19]++;cov_1jglxostv6.s[52]++;Business.create({businessName:'Rocky nation',description:'We produce quality products',street:'4 jvjvkjvj, kfkjfj',city:'Sinner',state:'Lagos',country:'Nigeria',datefound:'2015-11-04',email:'bigups@bfbf.b',phone:'111198728',category:'Production',companyImage:'',userId:user.dataValues.id}).then(function(business){cov_1jglxostv6.f[20]++;cov_1jglxostv6.s[53]++;request.post('/v1/businesses/'+business.dataValues.id+'/reviews').send({response:'',userId:''+user.dataValues.id,businessId:''+business.dataValues.id}).end(function(err,res){cov_1jglxostv6.f[21]++;cov_1jglxostv6.s[54]++;res.should.have.status(206);cov_1jglxostv6.s[55]++;res.body.should.be.a('object');cov_1jglxostv6.s[56]++;res.body.should.have.property('message').eql('Incomplete field');cov_1jglxostv6.s[57]++;done();});});});});cov_1jglxostv6.s[58]++;it('it should post a review',function(done){cov_1jglxostv6.f[22]++;cov_1jglxostv6.s[59]++;User.create({title:'mr',firstname:'somto',lastname:'Ikwuoma',username:'zuma',password:'zumarock',email:'rock@gmail.com',gender:'male',street:'ljan terrasse 346',city:'ikotun',state:'lagos',country:'Nigeria',dob:'2015-11-04',phone:'00110011',userImage:'usersUploads/testFile.png'}).then(function(user){cov_1jglxostv6.f[23]++;cov_1jglxostv6.s[60]++;Business.create({businessName:'Rocky nation',description:'We produce quality products',street:'4 jvjvkjvj, kfkjfj',city:'Sinner',state:'Lagos',country:'Nigeria',datefound:'2015-11-04',email:'bigups@bfbf.b',phone:'111198728',category:'Production',companyImage:'',userId:user.dataValues.id}).then(function(business){cov_1jglxostv6.f[24]++;cov_1jglxostv6.s[61]++;request.post('/v1/businesses/'+business.dataValues.id+'/reviews').send({response:'very good.',userId:user.dataValues.id,businessId:business.dataValues.id}).end(function(err,res){cov_1jglxostv6.f[25]++;cov_1jglxostv6.s[62]++;res.should.have.status(201);cov_1jglxostv6.s[63]++;res.body.should.be.a('object');cov_1jglxostv6.s[64]++;res.body.should.have.property('id').eql(res.body.id);cov_1jglxostv6.s[65]++;res.body.should.have.property('response').eql('very good.');cov_1jglxostv6.s[66]++;res.body.should.have.property('userId').eql(user.dataValues.id);cov_1jglxostv6.s[67]++;res.body.should.have.property('businessId').eql(business.dataValues.id);cov_1jglxostv6.s[68]++;done();});});});});});cov_1jglxostv6.s[69]++;describe('/PUT review',function(){cov_1jglxostv6.f[26]++;cov_1jglxostv6.s[70]++;it('it should update a review given the id',function(done){cov_1jglxostv6.f[27]++;cov_1jglxostv6.s[71]++;User.create({title:'mr',firstname:'somto',lastname:'Ikwuoma',username:'sommy',password:'123',email:'somto@gmail.com',gender:'male',street:'ljan terrasse 346',city:'ikotun',state:'lagos',country:'Nigeria',dob:'2015-11-04',phone:'66976498',userImage:'usersUploads/testFile.png'}).then(function(user){cov_1jglxostv6.f[28]++;cov_1jglxostv6.s[72]++;Business.create({businessName:'Sommy1',description:'We produce quality products',street:'4 jvjvkjvj, kfkjfj',city:'Sinner',state:'Lagos',country:'Nigeria',datefound:'2015-11-04',email:'wecon1@bfbf.b',phone:'134165448',category:'Production',companyImage:'',userId:user.dataValues.id}).then(function(business){cov_1jglxostv6.f[29]++;cov_1jglxostv6.s[73]++;Review.create({response:'very good.',userId:user.dataValues.id,businessId:business.dataValues.id}).then(function(review){cov_1jglxostv6.f[30]++;cov_1jglxostv6.s[74]++;request.put('/v1/businesses/'+business.dataValues.id+'/reviews/'+review.dataValues.id).send({response:'just fair',userId:user.dataValues.id,businessId:business.dataValues.id}).end(function(err,res){cov_1jglxostv6.f[31]++;cov_1jglxostv6.s[75]++;res.should.have.status(200);cov_1jglxostv6.s[76]++;res.body.should.have.property('id').eql(review.dataValues.id);cov_1jglxostv6.s[77]++;res.body.should.have.property('response').eql('just fair');cov_1jglxostv6.s[78]++;res.body.should.have.property('userId').eql(user.dataValues.id);cov_1jglxostv6.s[79]++;res.body.should.have.property('businessId').eql(''+business.dataValues.id);cov_1jglxostv6.s[80]++;done();});});});});});cov_1jglxostv6.s[81]++;it('it should not update a review given the wrong id',function(done){cov_1jglxostv6.f[32]++;cov_1jglxostv6.s[82]++;User.create({title:'mr',firstname:'somto',lastname:'Ikwuoma',username:'sommy',password:'123',email:'somto@gmail.com',gender:'male',street:'ljan terrasse 346',city:'ikotun',state:'lagos',country:'Nigeria',dob:'2015-11-04',phone:'66976498',userImage:'usersUploads/testFile.png'}).then(function(user){cov_1jglxostv6.f[33]++;cov_1jglxostv6.s[83]++;Business.create({businessName:'Sommy1',description:'We produce quality products',street:'4 jvjvkjvj, kfkjfj',city:'Sinner',state:'Lagos',country:'Nigeria',datefound:'2015-11-04',email:'wecon1@bfbf.b',phone:'134165448',category:'Production',companyImage:'',userId:user.dataValues.id}).then(function(business){cov_1jglxostv6.f[34]++;cov_1jglxostv6.s[84]++;Review.create({response:'very good.',userId:user.dataValues.id,businessId:business.dataValues.id}).then(function(){cov_1jglxostv6.f[35]++;cov_1jglxostv6.s[85]++;request.put('/v1/businesses/'+business.dataValues.id+'/reviews/0').send({response:'just fair',userId:user.dataValues.id,businessId:business.dataValues.id}).end(function(err,res){cov_1jglxostv6.f[36]++;cov_1jglxostv6.s[86]++;res.should.have.status(404);cov_1jglxostv6.s[87]++;res.body.should.have.property('message').eql('Review not found');cov_1jglxostv6.s[88]++;done();});});});});});cov_1jglxostv6.s[89]++;it('it should not update a review when userId is alter',function(done){cov_1jglxostv6.f[37]++;cov_1jglxostv6.s[90]++;User.create({title:'mr',firstname:'somto',lastname:'Ikwuoma',username:'sommy',password:'123',email:'somto@gmail.com',gender:'male',street:'ljan terrasse 346',city:'ikotun',state:'lagos',country:'Nigeria',dob:'2015-11-04',phone:'66976498',userImage:'usersUploads/testFile.png'}).then(function(user){cov_1jglxostv6.f[38]++;cov_1jglxostv6.s[91]++;Business.create({businessName:'Sommy1',description:'We produce quality products',street:'4 jvjvkjvj, kfkjfj',city:'Sinner',state:'Lagos',country:'Nigeria',datefound:'2015-11-04',email:'wecon1@bfbf.b',phone:'134165448',category:'Production',companyImage:'',userId:user.dataValues.id}).then(function(business){cov_1jglxostv6.f[39]++;cov_1jglxostv6.s[92]++;Review.create({response:'very good.',userId:user.dataValues.id,businessId:business.dataValues.id}).then(function(review){cov_1jglxostv6.f[40]++;cov_1jglxostv6.s[93]++;request.put('/v1/businesses/'+business.dataValues.id+'/reviews/'+review.dataValues.id).send({response:'just fair',userId:2,businessId:business.dataValues.id}).end(function(err,res){cov_1jglxostv6.f[41]++;cov_1jglxostv6.s[94]++;res.should.have.status(400);cov_1jglxostv6.s[95]++;res.body.should.have.property('message').eql('User can not be altered');cov_1jglxostv6.s[96]++;done();});});});});});cov_1jglxostv6.s[97]++;it('it should not update a review when userId is alter',function(done){cov_1jglxostv6.f[42]++;cov_1jglxostv6.s[98]++;User.create({title:'mr',firstname:'somto',lastname:'Ikwuoma',username:'sommy',password:'123',email:'somto@gmail.com',gender:'male',street:'ljan terrasse 346',city:'ikotun',state:'lagos',country:'Nigeria',dob:'2015-11-04',phone:'66976498',userImage:'usersUploads/testFile.png'}).then(function(user){cov_1jglxostv6.f[43]++;cov_1jglxostv6.s[99]++;Business.create({businessName:'Sommy1',description:'We produce quality products',street:'4 jvjvkjvj, kfkjfj',city:'Sinner',state:'Lagos',country:'Nigeria',datefound:'2015-11-04',email:'wecon1@bfbf.b',phone:'134165448',category:'Production',companyImage:'',userId:user.dataValues.id}).then(function(business){cov_1jglxostv6.f[44]++;cov_1jglxostv6.s[100]++;Review.create({response:'very good.',userId:user.dataValues.id,businessId:business.dataValues.id}).then(function(review){cov_1jglxostv6.f[45]++;cov_1jglxostv6.s[101]++;request.put('/v1/businesses/'+business.dataValues.id+'/reviews/'+review.dataValues.id).send({response:'just fair',userId:user.dataValues.id,businessId:2}).end(function(err,res){cov_1jglxostv6.f[46]++;cov_1jglxostv6.s[102]++;res.should.have.status(400);cov_1jglxostv6.s[103]++;res.body.should.have.property('message').eql('Business can not be altered');cov_1jglxostv6.s[104]++;done();});});});});});});cov_1jglxostv6.s[105]++;describe('/DELETE/:id review',function(){cov_1jglxostv6.f[47]++;cov_1jglxostv6.s[106]++;it('it should not delete a review given the wrong id',function(done){cov_1jglxostv6.f[48]++;cov_1jglxostv6.s[107]++;User.create({title:'mr',firstname:'somto',lastname:'Ikwuoma',username:'sommy',password:'123',email:'somto@gmail.com',gender:'male',street:'ljan terrasse 346',city:'ikotun',state:'lagos',country:'Nigeria',dob:'2015-11-04',phone:'66976498',userImage:'usersUploads/testFile.png'}).then(function(user){cov_1jglxostv6.f[49]++;cov_1jglxostv6.s[108]++;Business.create({businessName:'Sommy1',description:'We produce quality products',street:'4 jvjvkjvj, kfkjfj',city:'Sinner',state:'Lagos',country:'Nigeria',datefound:'2015-11-04',email:'wecon1@bfbf.b',phone:'134165448',category:'Production',companyImage:'',userId:user.dataValues.id}).then(function(business){cov_1jglxostv6.f[50]++;cov_1jglxostv6.s[109]++;Review.create({response:'very good.',userId:user.dataValues.id,businessId:business.dataValues.id}).then(function(){cov_1jglxostv6.f[51]++;cov_1jglxostv6.s[110]++;request.delete('/v1/businesses/'+business.dataValues.id+'/reviews/0').end(function(err,res){cov_1jglxostv6.f[52]++;cov_1jglxostv6.s[111]++;res.should.have.status(404);cov_1jglxostv6.s[112]++;res.body.should.have.property('message').eql('Review not found');cov_1jglxostv6.s[113]++;done();});});});});});cov_1jglxostv6.s[114]++;it('it should delete a review given the id',function(done){cov_1jglxostv6.f[53]++;cov_1jglxostv6.s[115]++;User.create({title:'mr',firstname:'somto',lastname:'Ikwuoma',username:'sommy',password:'123',email:'somto@gmail.com',gender:'male',street:'ljan terrasse 346',city:'ikotun',state:'lagos',country:'Nigeria',dob:'2015-11-04',phone:'66976498',userImage:'usersUploads/testFile.png'}).then(function(user){cov_1jglxostv6.f[54]++;cov_1jglxostv6.s[116]++;Business.create({businessName:'Sommy1',description:'We produce quality products',street:'4 jvjvkjvj, kfkjfj',city:'Sinner',state:'Lagos',country:'Nigeria',datefound:'2015-11-04',email:'wecon1@bfbf.b',phone:'134165448',category:'Production',companyImage:'',userId:user.dataValues.id}).then(function(business){cov_1jglxostv6.f[55]++;cov_1jglxostv6.s[117]++;Review.create({response:'very good.',userId:user.dataValues.id,businessId:business.dataValues.id}).then(function(review){cov_1jglxostv6.f[56]++;cov_1jglxostv6.s[118]++;request.delete('/v1/businesses/'+business.dataValues.id+'/reviews/'+review.dataValues.id).end(function(err,res){cov_1jglxostv6.f[57]++;cov_1jglxostv6.s[119]++;res.should.have.status(204);cov_1jglxostv6.s[120]++;res.body.should.be.a('object');cov_1jglxostv6.s[121]++;done();});});});});});});});