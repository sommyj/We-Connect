{"version":3,"sources":["businesses-spec.js"],"names":["process","env","NODE_ENV","chai","should","use","chaiHttp","request","app","model","Business","User","copyFile","src","dest","readStream","fs","createReadStream","pipe","createWriteStream","deleteFile","targetPath","unlink","err","describe","beforeEach","done","destroy","where","force","then","it","get","end","res","have","status","body","message","be","eql","create","title","firstname","lastname","username","password","email","gender","street","city","state","country","dob","phone","userImage","user","businessName","description","datefound","category","companyImage","userId","dataValues","id","business","a","property","Date","query","keys","deep","business1","location","post","field","attach","put","set","token","path","resolve","filename","join","destDir","access","mkdirSync","delete"],"mappings":";;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;;;AACA;;;;;;AAEAA,QAAQC,GAAR,CAAYC,QAAZ,GAAuB,MAAvB,C,CAXA;AACA;;;AAYAC,eAAKC,MAAL;AACAD,eAAKE,GAAL,CAASC,kBAAT;AACA,IAAMC,UAAU,yBAAUC,aAAV,CAAhB;WACyB,CAACC,iBAAMC,QAAP,EAAiBD,iBAAME,IAAvB,C;IAAlBD,Q;IAAUC,I;;AAEjB;;;;;;;AAMA,IAAMC,WAAW,SAAXA,QAAW,CAACC,GAAD,EAAMC,IAAN,EAAe;AAC9B,MAAMC,aAAaC,qBAAGC,gBAAH,CAAoBJ,GAApB,CAAnB;;AAEAE,aAAWG,IAAX,CAAgBF,qBAAGG,iBAAH,CAAqBL,IAArB,CAAhB;AACD,CAJD;;AAMA;;;;;AAKA,IAAMM,aAAa,SAAbA,UAAa,CAACC,UAAD,EAAgB;AACjCL,uBAAGM,MAAH,CAAUD,UAAV,EAAsB,UAACE,GAAD,EAAS;AAC7B,QAAIA,GAAJ,EAAS,MAAMA,GAAN;AACV,GAFD;AAGD,CAJD;;AAMAC,SAAS,YAAT,EAAuB,YAAM;AAC3BC,aAAW,UAACC,IAAD,EAAU;AAAE;AACrBf,SAAKgB,OAAL,CAAa,EAAEC,OAAO,EAAT,EAAaC,OAAO,IAApB,EAAb;AACAnB,aAASiB,OAAT,CAAiB,EAAEC,OAAO,EAAT,EAAaC,OAAO,IAApB,EAAjB,EAA6CC,IAA7C,CAAkD;AAAA,aAAMJ,MAAN;AAAA,KAAlD;AACD,GAHD;;AAKAF,WAAS,eAAT,EAA0B,YAAM;AAC9BO,OAAG,kCAAH,EAAuC,UAACL,IAAD,EAAU;AAC/CnB,cACGyB,GADH,CACO,iBADP,EAEGC,GAFH,CAEO,UAACV,GAAD,EAAMW,GAAN,EAAc;AACjBA,YAAI9B,MAAJ,CAAW+B,IAAX,CAAgBC,MAAhB,CAAuB,GAAvB;AACAF,YAAIG,IAAJ,CAASC,OAAT,CAAiBlC,MAAjB,CAAwBmC,EAAxB,CAA2BC,GAA3B,CAA+B,sBAA/B;AACAd;AACD,OANH;AAOD,KARD;AASD,GAVD;;AAYAF,WAAS,gBAAT,EAA2B,YAAM;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAED,GA5XD;;AA8XA;;;AAGAA,WAAS,gBAAT,EAA2B,YAAM;AAC/BO,OAAG,8BAAH,EAAmC,UAACL,IAAD,EAAU;AAC3Cf,WAAK8B,MAAL,CAAY;AACVC,eAAO,IADG;AAEVC,mBAAW,OAFD;AAGVC,kBAAU,SAHA;AAIVC,kBAAU,QAJA;AAKVC,kBAAU,KALA;AAMVC,eAAO,kBANG;AAOVC,gBAAQ,MAPE;AAQVC,gBAAQ,mBARE;AASVC,cAAM,QATI;AAUVC,eAAO,OAVG;AAWVC,iBAAS,SAXC;AAYVC,aAAK,YAZK;AAaVC,eAAO,UAbG;AAcVC,mBAAW;AAdD,OAAZ,EAgBGzB,IAhBH,CAgBQ,UAAC0B,IAAD,EAAU;AACd9C,iBAAS+B,MAAT,CAAgB;AACdgB,wBAAc,QADA;AAEdC,uBAAa,6BAFC;AAGdT,kBAAQ,oBAHM;AAIdC,gBAAM,QAJQ;AAKdC,iBAAO,OALO;AAMdC,mBAAS,SANK;A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,IAAJ,CAASyB,MAArD;AACA5B,gBAAIG,IAAJ,CAASjC,MAAT,CAAgB+B,IAAhB,CAAqBgC,QAArB,CAA8B,aAA9B,EAA6C3B,GAA7C,CAAiD,iCAAjD;AACAN,gBAAIG,IAAJ,CAASjC,MAAT,CAAgB+B,IAAhB,CAAqBgC,QAArB,CAA8B,OAA9B,EAAuC3B,GAAvC,CAA2C,OAA3C;AACAN,gBAAIG,IAAJ,CAASjC,MAAT,CAAgB+B,IAAhB,CAAqBgC,QAArB,CAA8B,SAA9B,EAAyC3B,GAAzC,CAA6C,SAA7C;AACAN,gBAAIG,IAAJ,CAASjC,MAAT,CAAgB+B,IAAhB,CAAqBgC,QAArB,CAA8B,UAA9B,EAA0C3B,GAA1C,CAA8C,YAA9C;AACAN,gBAAIG,IAAJ,CAASjC,MAAT,CAAgB+B,IAAhB,CAAqBgC,QAArB,CAA8B,cAA9B,EAA8C3B,GAA9C,CAAkDN,IAAIG,IAAJ,CAASwB,YAA3D;;AAEAnC;AACD,WA3BH;AA4BD,SA3CD;AA4CD,OA9DH;AA+DD,KAjED;;AAmEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACC,GAzgBD;;AA2gBA;;;AAGAF,WAAS,sBAAT,EAAiC,YAAM;AACrCO,OAAG,0CAAH,EAA+C,UAACL,IAAD,EAAU;AACvDf,WAAK8B,MAAL,CAAY;AACVC,eAAO,IADG;AAEVC,mBAAW,OAFD;AAGVC,kBAAU,SAHA;AAIVC,kBAAU,UAJA;AAKVC,kBAAU,KALA;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","file":"businesses-spec.js","sourceRoot":"/home/somto/Andela/We-Connect/server/test","sourcesContent":["// During the test the env variable is set to test\n// Require the dev-dependencies\nimport chai from 'chai';\nimport supertest from 'supertest';\nimport fs from 'file-system';\nimport path from 'path';\nimport chaiHttp from 'chai-http';\n\nimport app from '../app';\nimport model from '../server/models';\n\nprocess.env.NODE_ENV = 'test';\n\nchai.should();\nchai.use(chaiHttp);\nconst request = supertest(app);\nconst [Business, User] = [model.Business, model.User];\n\n/**\n * copy file from a directory to another\n * @param {String} src The source you are copying from.\n * @param {String} dest The destination you are copying to.\n * @returns {void} nothing.\n */\nconst copyFile = (src, dest) => {\n  const readStream = fs.createReadStream(src);\n\n  readStream.pipe(fs.createWriteStream(dest));\n};\n\n/**\n * delete a file\n * @param {String} targetPath The part to delete from\n * @returns {void} nothing.\n */\nconst deleteFile = (targetPath) => {\n  fs.unlink(targetPath, (err) => {\n    if (err) throw err;\n  });\n};\n\ndescribe('Businesses', () => {\n  beforeEach((done) => { // Before each test we empty the database\n    User.destroy({ where: {}, force: true });\n    Business.destroy({ where: {}, force: true }).then(() => done());\n  });\n\n  describe('/GET business', () => {\n    it('it should GET all the businesses', (done) => {\n      request\n        .get('/v1/businesses/')\n        .end((err, res) => {\n          res.should.have.status(404);\n          res.body.message.should.be.eql('Businesses not found');\n          done();\n        });\n    });\n  });\n\n  describe('/POST business', () => {\n    // it(`it should not CREATE a business without description, businessName, userId,\n    // description, location and category`, (done) => {\n    //\n    //   request\n    //     .post('/auth/v1/signup')\n    //     .field('title', 'mr')\n    //     .field('firstname', 'Justin')\n    //     .field('lastname', 'Ikwuoma')\n    //     .field('username', 'justman')\n    //     .field('password', 'abc')\n    //     .field('email', 'justin@gmail.com')\n    //     .field('gender', 'male')\n    //     .field('street', 'ljan terrasse 346')\n    //     .field('city', 'ikotun')\n    //     .field('state', 'lagos')\n    //     .field('country', 'Nigeria')\n    //     .field('dob', '2015-11-04')\n    //     .field('phone', '66976498')\n    //     .attach('userImage', '')\n    //     .end((err, res) => {\n    //\n    //       request\n    //         .post('/v1/businesses/')\n    //         .set('x-access-token', res.body.token)\n    //         .field('businessName', '')\n    //         .field('description', '')\n    //         .field('street', '')\n    //         .field('city', '')\n    //         .field('state', '')\n    //         .field('country', '')\n    //         .field('datefound', '')\n    //         .field('email', '')\n    //         .field('phone', '')\n    //         .field('category', '')\n    //         .attach('companyImage', './testFile.png')\n    //         .end((err, res) => {\n    //           res.should.have.status(206);\n    //           res.body.should.be.a('object');\n    //           res.body.should.have.property('message').eql('Incomplete fields');\n    //\n    //           done();\n    //         });\n    //       });\n    // });\n    //\n    // it('it should CREATE a business', (done) => {\n    //   request\n    //     .post('/auth/v1/signup')\n    //     .field('title', 'mr')\n    //     .field('firstname', 'Justin')\n    //     .field('lastname', 'Ikwuoma')\n    //     .field('username', 'justman')\n    //     .field('password', 'abc')\n    //     .field('email', 'justin@gmail.com')\n    //     .field('gender', 'male')\n    //     .field('street', 'ljan terrasse 346')\n    //     .field('city', 'ikotun')\n    //     .field('state', 'lagos')\n    //     .field('country', 'Nigeria')\n    //     .field('dob', '2015-11-04')\n    //     .field('phone', '66976498')\n    //     .attach('userImage', '')\n    //     .end((err, res) => {\n    //\n    //       request\n    //         .post('/v1/businesses/')\n    //         .set('x-access-token', res.body.token)\n    //         .field('businessName', 'Sommyj')\n    //         .field('description', 'We produce quality products')\n    //         .field('street', '4, badamus str')\n    //         .field('city', 'Stoppe')\n    //         .field('state', 'Lagos')\n    //         .field('country', 'Nigeria')\n    //         .field('datefound', '2015-11-04')\n    //         .field('email', 'sommyj@gmail.com')\n    //         .field('phone', '021316')\n    //         .field('category', 'Production')\n    //         .attach('companyImage', './testFile.png')\n    //         .end((err, res) => {\n    //           res.should.have.status(201); // 'success' status\n    //           res.body.should.be.a('object');\n    //           res.body.should.have.property('id').eql(res.body.id);\n    //           res.body.should.have.property('businessName').eql('Sommyj');\n    //           res.body.should.have.property('userId').eql(res.body.userId);\n    //           res.body.should.have.property('description').eql('We produce quality products');\n    //           res.body.should.have.property('state').eql('Lagos');\n    //           res.body.should.have.property('country').eql('Nigeria');\n    //           res.body.should.have.property('email').eql('sommyj@gmail.com');\n    //           res.body.should.have.property('category').eql('Production');\n    //           res.body.should.have.property('companyImage').eql(res.body.companyImage);\n    //\n    //           // delete test image file\n    //           if (path.resolve('./testFile.png')) {\n    //             deleteFile(`./${res.body.companyImage}`);\n    //           }\n    //           done();\n    //         });\n    //     });\n    // });\n    //\n    //\n    // it('it should CREATE a business without image', (done) => {\n    //   request\n    //     .post('/auth/v1/signup')\n    //     .field('title', 'mr')\n    //     .field('firstname', 'Justin')\n    //     .field('lastname', 'Ikwuoma')\n    //     .field('username', 'justman')\n    //     .field('password', 'abc')\n    //     .field('email', 'justin@gmail.com')\n    //     .field('gender', 'male')\n    //     .field('street', 'ljan terrasse 346')\n    //     .field('city', 'ikotun')\n    //     .field('state', 'lagos')\n    //     .field('country', 'Nigeria')\n    //     .field('dob', '2015-11-04')\n    //     .field('phone', '66976498')\n    //     .attach('userImage', '')\n    //     .end((err, res) => {\n    //\n    //       request\n    //         .post('/v1/businesses/')\n    //         .set('x-access-token', res.body.token)\n    //         .field('businessName', 'Sommyj')\n    //         .field('description', 'We produce quality products')\n    //         .field('street', '4, badamus str')\n    //         .field('city', 'Stoppe')\n    //         .field('state', 'Lagos')\n    //         .field('country', 'Nigeria')\n    //         .field('datefound', '2015-11-04')\n    //         .field('email', 'sommyj@gmail.com')\n    //         .field('phone', '021316')\n    //         .field('category', 'Production')\n    //         .attach('companyImage', '')\n    //         .end((err, res) => {\n    //           res.should.have.status(201); // 'success' status\n    //           res.body.should.be.a('object');\n    //           res.body.should.have.property('id').eql(res.body.id);\n    //           res.body.should.have.property('businessName').eql('Sommyj');\n    //           res.body.should.have.property('userId').eql(res.body.userId);\n    //           res.body.should.have.property('description').eql('We produce quality products');\n    //           res.body.should.have.property('state').eql('Lagos');\n    //           res.body.should.have.property('category').eql('Production');\n    //           res.body.should.have.property('companyImage').eql(res.body.companyImage);\n    //\n    //           done();\n    //         });\n    //     });\n    // });\n    //\n    // it('it should not CREATE a business when image file type not jpg/png', (done) => {\n    //   request\n    //     .post('/auth/v1/signup')\n    //     .field('title', 'mr')\n    //     .field('firstname', 'Justin')\n    //     .field('lastname', 'Ikwuoma')\n    //     .field('username', 'justman')\n    //     .field('password', 'abc')\n    //     .field('email', 'justin@gmail.com')\n    //     .field('gender', 'male')\n    //     .field('street', 'ljan terrasse 346')\n    //     .field('city', 'ikotun')\n    //     .field('state', 'lagos')\n    //     .field('country', 'Nigeria')\n    //     .field('dob', '2015-11-04')\n    //     .field('phone', '66976498')\n    //     .attach('userImage', '')\n    //     .end((err, res) => {\n    //\n    //       request\n    //         .post('/v1/businesses/')\n    //         .set('x-access-token', res.body.token)\n    //         .field('businessName', 'Sommyj')\n    //         .field('description', 'We produce quality products')\n    //         .field('street', '4, badamus str')\n    //         .field('city', 'Stoppe')\n    //         .field('state', 'Lagos')\n    //         .field('country', 'Nigeria')\n    //         .field('datefound', '2015-11-04')\n    //         .field('email', 'sommyj@gmail.com')\n    //         .field('phone', '021316')\n    //         .field('category', 'Production')\n    //         .attach('companyImage', './testFileType.txt')\n    //         .end((err, res) => {\n    //           res.should.have.status(403);\n    //           res.body.should.be.a('object');\n    //           res.body.should.have.property('message').eql('Only .png and .jpg files are allowed!');\n    //           done();\n    //         });\n    //     });\n    // });\n    //\n    // it(`it should not CREATE a business\n    // when image file size is larger than 2mb`, (done) => {\n    //\n    //   request\n    //     .post('/auth/v1/signup')\n    //     .field('title', 'mr')\n    //     .field('firstname', 'Justin')\n    //     .field('lastname', 'Ikwuoma')\n    //     .field('username', 'justman')\n    //     .field('password', 'abc')\n    //     .field('email', 'justin@gmail.com')\n    //     .field('gender', 'male')\n    //     .field('street', 'ljan terrasse 346')\n    //     .field('city', 'ikotun')\n    //     .field('state', 'lagos')\n    //     .field('country', 'Nigeria')\n    //     .field('dob', '2015-11-04')\n    //     .field('phone', '66976498')\n    //     .attach('userImage', '')\n    //     .end((err, res) => {\n    //\n    //   request\n    //     .post('/v1/businesses/')\n    //     .set('x-access-token', res.body.token)\n    //     .field('businessId', '1')\n    //     .field('businessName', 'Sommyj')\n    //     .field('userId', '22')\n    //     .field('description', 'We produce quality products')\n    //     .field('location', 'lagos')\n    //     .field('category', 'Production')\n    //     .attach('companyImage', './testFileSize.jpg')\n    //     .end((err, res) => {\n    //       res.should.have.status(403);\n    //       res.body.should.be.a('object');\n    //       res.body.should.have.property('message').eql('file should not be more than 2mb!');\n    //       res.body.should.have.property('error').eql(true);\n    //       done();\n    //     });\n    //   });\n    // });\n    //\n    // it('it should not CREATE a business if businessName, email, phone already exist', (done) => {\n    //   request\n    //     .post('/auth/v1/signup')\n    //     .field('title', 'mr')\n    //     .field('firstname', 'Justin')\n    //     .field('lastname', 'Ikwuoma')\n    //     .field('username', 'justman')\n    //     .field('password', 'abc')\n    //     .field('email', 'justin@gmail.com')\n    //     .field('gender', 'male')\n    //     .field('street', 'ljan terrasse 346')\n    //     .field('city', 'ikotun')\n    //     .field('state', 'lagos')\n    //     .field('country', 'Nigeria')\n    //     .field('dob', '2015-11-04')\n    //     .field('phone', '66976498')\n    //     .attach('userImage', '')\n    //     .end((err, res) => {\n    //\n    //       request\n    //         .post('/v1/businesses/')\n    //         .set('x-access-token', res.body.token)\n    //         .field('businessName', 'Sommyj')\n    //         .field('description', 'We produce quality products')\n    //         .field('street', '4, badamus str')\n    //         .field('city', 'Stoppe')\n    //         .field('state', 'Lagos')\n    //         .field('country', 'Nigeria')\n    //         .field('datefound', '2015-11-04')\n    //         .field('email', 'sommyj@gmail.com')\n    //         .field('phone', '021316')\n    //         .field('category', 'Production')\n    //         .attach('companyImage', '')\n    //         .end((err, res2) => {\n    //\n    //         request\n    //           .post('/v1/businesses/')\n    //           .set('x-access-token', res.body.token)\n    //           .field('businessName', 'Sommyj')\n    //           .field('description', 'We produce quality products')\n    //           .field('street', '4, badamus str')\n    //           .field('city', 'Stoppe')\n    //           .field('state', 'Lagos')\n    //           .field('country', 'Nigeria')\n    //           .field('datefound', '2015-11-04')\n    //           .field('email', 'sommyj@gmail.com')\n    //           .field('phone', '021316')\n    //           .field('category', 'Production')\n    //           .attach('companyImage', '')\n    //           .end((err, res) => {\n    //             res.should.have.status(400);\n    //             res.body.should.be.a('object');\n    //             res.body.should.have.property('errors');\n    //             res.body.should.have.property('name').eql('SequelizeUniqueConstraintError');\n    //\n    //             done();\n    //           });\n    //       });\n    //     });\n    // });\n    //\n    // it('it should not CREATE a business when a token is not provided', (done) => {\n    //   request\n    //     .post('/auth/v1/signup')\n    //     .field('title', 'mr')\n    //     .field('firstname', 'Justin')\n    //     .field('lastname', 'Ikwuoma')\n    //     .field('username', 'justman')\n    //     .field('password', 'abc')\n    //     .field('email', 'justin@gmail.com')\n    //     .field('gender', 'male')\n    //     .field('street', 'ljan terrasse 346')\n    //     .field('city', 'ikotun')\n    //     .field('state', 'lagos')\n    //     .field('country', 'Nigeria')\n    //     .field('dob', '2015-11-04')\n    //     .field('phone', '66976498')\n    //     .attach('userImage', '')\n    //     .end((err, res) => {\n    //\n    //       request\n    //         .post('/v1/businesses/')\n    //         .field('businessName', 'Sommyj')\n    //         .field('description', 'We produce quality products')\n    //         .field('street', '4, badamus str')\n    //         .field('city', 'Stoppe')\n    //         .field('state', 'Lagos')\n    //         .field('country', 'Nigeria')\n    //         .field('datefound', '2015-11-04')\n    //         .field('email', 'sommyj@gmail.com')\n    //         .field('phone', '021316')\n    //         .field('category', 'Production')\n    //         .attach('companyImage', './testFileType.txt')\n    //         .end((err, res) => {\n    //           res.should.have.status(401);\n    //           res.body.should.be.a('object');\n    //           res.body.should.have.property('auth').eql(false);\n    //           res.body.should.have.property('message').eql('No token provided.');\n    //           done();\n    //         });\n    //     });\n    // });\n    //\n    // it('it should not CREATE a business when it fails to authenticate token.', (done) => {\n    //   request\n    //     .post('/auth/v1/signup')\n    //     .field('title', 'mr')\n    //     .field('firstname', 'Justin')\n    //     .field('lastname', 'Ikwuoma')\n    //     .field('username', 'justman')\n    //     .field('password', 'abc')\n    //     .field('email', 'justin@gmail.com')\n    //     .field('gender', 'male')\n    //     .field('street', 'ljan terrasse 346')\n    //     .field('city', 'ikotun')\n    //     .field('state', 'lagos')\n    //     .field('country', 'Nigeria')\n    //     .field('dob', '2015-11-04')\n    //     .field('phone', '66976498')\n    //     .attach('userImage', '')\n    //     .end((err, res) => {\n    //\n    //       request\n    //         .post('/v1/businesses/')\n    //         .set('x-access-token', 'jdkjdfskjs43354mxxnzsdz.drfsff.srfsf35324')\n    //         .field('businessName', 'Sommyj')\n    //         .field('description', 'We produce quality products')\n    //         .field('street', '4, badamus str')\n    //         .field('city', 'Stoppe')\n    //         .field('state', 'Lagos')\n    //         .field('country', 'Nigeria')\n    //         .field('datefound', '2015-11-04')\n    //         .field('email', 'sommyj@gmail.com')\n    //         .field('phone', '021316')\n    //         .field('category', 'Production')\n    //         .attach('companyImage', './testFileType.txt')\n    //         .end((err, res) => {\n    //           res.should.have.status(500);\n    //           res.body.should.be.a('object');\n    //           res.body.should.have.property('auth').eql(false);\n    //           res.body.should.have.property('message').eql('Failed to authenticate token.');\n    //           done();\n    //         });\n    //     });\n    // });\n\n  });\n\n  /*\n  * Test the /GET/ route\n  */\n  describe('/GET/ business', () => {\n    it('it should GET all businesses', (done) => {\n      User.create({\n        title: 'mr',\n        firstname: 'somto',\n        lastname: 'Ikwuoma',\n        username: 'sommy1',\n        password: '123',\n        email: 'somto1@gmail.com',\n        gender: 'male',\n        street: 'ljan terrasse 346',\n        city: 'ikotun',\n        state: 'lagos',\n        country: 'Nigeria',\n        dob: '2015-11-04',\n        phone: '66976998',\n        userImage: 'usersUploads/testFile.png'\n      })\n        .then((user) => {\n          Business.create({\n            businessName: 'Sommy1',\n            description: 'We produce quality products',\n            street: '4 jvjvkjvj, kfkjfj',\n            city: 'Sinner',\n            state: 'Lagos',\n            country: 'Nigeria',\n            datefound: '2015-11-04',\n            email: 'wecon@bfbf.b',\n            phone: '34165448',\n            category: 'Production',\n            companyImage: '',\n            userId: user.dataValues.id,\n          }).then((business) => {\n            request\n              .get('/v1/businesses')\n              .end((err, res) => {\n                res.should.have.status(200);\n                res.body.should.be.a('array');\n                res.body.should.have.property('0').property('id').eql(business.dataValues.id);\n                res.body.should.have.property('0').property('businessName').eql('Sommy1');\n                res.body.should.have.property('0').property('description').eql('We produce quality products');\n                res.body.should.have.property('0').property('state').eql('Lagos');\n                res.body.should.have.property('0').property('country').eql('Nigeria');\n                res.body.should.have.property('0').property('phone').eql('34165448');\n                res.body.should.have.property('0').property('userId').eql(user.dataValues.id);\n                done();\n              });\n          });\n        });\n    });\n\n    it('it should GET a business by the given id', (done) => {\n      User.create({\n        title: 'mr',\n        firstname: 'somto',\n        lastname: 'Ikwuoma',\n        username: 'sommy',\n        password: '123',\n        email: 'somto@gmail.com',\n        gender: 'male',\n        street: 'ljan terrasse 346',\n        city: 'ikotun',\n        state: 'lagos',\n        country: 'Nigeria',\n        dob: '2015-11-04',\n        phone: '66976498',\n        userImage: 'usersUploads/testFile.png'\n      })\n        .then((user) => {\n          Business.create({\n            businessName: 'Sommy_j',\n            description: 'We produce quality products',\n            street: '3 jvjvkjvj, kfkjfj',\n            city: 'Sinner',\n            state: 'Lagos',\n            country: 'Nigeria',\n            datefound: '2015-11-04',\n            email: 'wecon@bfbf.b',\n            phone: '32165485',\n            category: 'Production',\n            companyImage: '',\n            userId: user.dataValues.id,\n          }).then((business) => {\n            request\n              .get(`/v1/businesses/${business.dataValues.id}`)\n              .end((err, res) => {\n                res.should.have.status(200);\n                res.body.should.be.a('object');\n                res.body.should.have.property('businessName').eql('Sommy_j');\n                res.body.should.have.property('userId').eql(user.dataValues.id);\n                res.body.should.have.property('description').eql('We produce quality products');\n                res.body.should.have.property('state').eql('Lagos');\n                res.body.should.have.property('country').eql('Nigeria');\n                res.body.should.have.property('category').eql('Production');\n                res.body.should.have.property('id').eql(business.dataValues.id);\n                res.body.should.have.property('companyImage').eql('');\n                done();\n              });\n          });\n        });\n    });\n\n    it('it should not GET a business by the given wrong id', (done) => {\n      User.create({\n        title: 'mr',\n        firstname: 'somto',\n        lastname: 'Ikwuoma',\n        username: 'sommy',\n        password: '123',\n        email: 'somto@gmail.com',\n        gender: 'male',\n        street: 'ljan terrasse 346',\n        city: 'ikotun',\n        state: 'lagos',\n        country: 'Nigeria',\n        dob: new Date('2015-11-04'),\n        phone: '66976498',\n        userImage: 'usersUploads/testFile.png'\n      })\n        .then((user) => {\n          Business.create({\n            businessName: 'Sommy_j',\n            description: 'We produce quality products',\n            street: '3 jvjvkjvj, kfkjfj',\n            city: 'Sinner',\n            state: 'Lagos',\n            country: 'Nigeria',\n            datefound: '2015-11-04',\n            email: 'wecon@bfbf.b',\n            phone: '32165485',\n            category: 'Production',\n            companyImage: '',\n            userId: user.dataValues.id,\n          });\n\n          request\n            .get('/v1/businesses/13')\n            .end((err, res) => {\n              res.should.have.status(404);\n              res.body.should.be.a('object');\n              res.body.message.should.be.eql('Business not found');\n              done();\n            });\n        });\n    });\n\n    it('it should GET a business by the given category', (done) => {\n      User.create({\n        title: 'mr',\n        firstname: 'somto',\n        lastname: 'Ikwuoma',\n        username: 'sommy',\n        password: '123',\n        email: 'somto@gmail.com',\n        gender: 'male',\n        street: 'ljan terrasse 346',\n        city: 'ikotun',\n        state: 'lagos',\n        country: 'Nigeria',\n        dob: '2015-11-04',\n        phone: '66976498',\n        userImage: 'usersUploads/testFile.png'\n      })\n        .then((user) => {\n          Business.create({\n            businessName: 'Sommy1',\n            description: 'We produce quality products',\n            street: '4 jvjvkjvj, kfkjfj',\n            city: 'Sinner',\n            state: 'Lagos',\n            country: 'Nigeria',\n            datefound: '2015-11-04',\n            email: 'wecon@bfbf.b',\n            phone: '34165448',\n            category: 'Production',\n            companyImage: '',\n            userId: user.dataValues.id,\n          }).then((business) => {\n            request\n              .get('/v1/businesses/')\n              .query('category=Production') // /businesses?category='Production'\n              .end((err, res) => {\n                res.should.have.status(200);\n                res.body.should.be.a('array');\n                res.body.should.have.keys('0');\n                res.body.should.have.property('0');\n                res.body.should.have.deep.property('0').property('id').eql(business.dataValues.id);\n                res.body.should.have.deep.property('0').property('businessName').eql('Sommy1');\n                res.body.should.have.deep.property('0').property('userId').eql(user.dataValues.id);\n                res.body.should.have.deep.property('0').property('description').eql('We produce quality products');\n                res.body.should.have.deep.property('0').property('state').eql('Lagos');\n                res.body.should.have.deep.property('0').property('country').eql('Nigeria');\n                res.body.should.have.deep.property('0').property('category').eql('Production');\n                res.body.should.have.deep.property('0').property('phone').eql('34165448');\n                res.body.should.have.deep.property('0').property('companyImage').eql('');\n                done();\n              });\n          });\n        });\n    });\n\n\n    it('it should not GET a business by the given wrong category', (done) => {\n      User.create({\n        title: 'mr',\n        firstname: 'somto',\n        lastname: 'Ikwuoma',\n        username: 'sommy',\n        password: '123',\n        email: 'somto@gmail.com',\n        gender: 'male',\n        street: 'ljan terrasse 346',\n        city: 'ikotun',\n        state: 'lagos',\n        country: 'Nigeria',\n        dob: '2015-11-04',\n        phone: '66976498',\n        userImage: 'usersUploads/testFile.png'\n      })\n        .then((user) => {\n          Business.create({\n            businessName: 'Sommy1',\n            description: 'We produce quality products',\n            street: '4 jvjvkjvj, kfkjfj',\n            city: 'Sinner',\n            state: 'Lagos',\n            country: 'Nigeria',\n            datefound: '2015-11-04',\n            email: 'wecon@bfbf.b',\n            phone: '34165448',\n            category: 'Production',\n            companyImage: '',\n            userId: user.dataValues.id,\n          }).then(() => {\n            request\n              .get('/v1/businesses')\n              .query('category=Sales') // /businesses?category='Production'\n              .end((err, res) => {\n                res.should.have.status(404);\n                res.body.should.be.a('object');\n                res.body.message.should.be.eql('Businesses not found');\n                done();\n              });\n          });\n        });\n    });\n\n\n    it('it should GET a business by the given location', (done) => {\n      User.create({\n        title: 'mr',\n        firstname: 'somto',\n        lastname: 'Ikwuoma',\n        username: 'sommy',\n        password: '123',\n        email: 'somto@gmail.com',\n        gender: 'male',\n        street: 'ljan terrasse 346',\n        city: 'ikotun',\n        state: 'lagos',\n        country: 'Nigeria',\n        dob: '2015-11-04',\n        phone: '66976498',\n        userImage: 'usersUploads/testFile.png'\n      })\n        .then((user) => {\n          Business.create({\n            businessName: 'Sommy1',\n            description: 'We produce quality products',\n            street: '4 jvjvkjvj, kfkjfj',\n            city: 'Sinner',\n            state: 'Lagos',\n            country: 'Nigeria',\n            datefound: '2015-11-04',\n            email: 'wecon@bfbf.b',\n            phone: '34165448',\n            category: 'Production',\n            companyImage: '',\n            userId: user.dataValues.id,\n          }).then((business) => {\n            request\n              .get('/v1/businesses')\n              .query('location=Nigeria') // /businesses?location='Nigeria'\n              .end((err, res) => {\n                res.should.have.status(200);\n                res.body.should.be.a('array');\n                res.body.should.have.keys('0');\n                res.body.should.have.property('0');\n                res.body.should.have.deep.property('0').property('id').eql(business.dataValues.id);\n                res.body.should.have.deep.property('0').property('businessName').eql('Sommy1');\n                res.body.should.have.deep.property('0').property('userId').eql(user.dataValues.id);\n                res.body.should.have.deep.property('0').property('description').eql('We produce quality products');\n                res.body.should.have.deep.property('0').property('country').eql('Nigeria');\n                res.body.should.have.deep.property('0').property('category').eql('Production');\n                res.body.should.have.deep.property('0').property('companyImage').eql('');\n                done();\n              });\n          });\n        });\n    });\n\n\n    it('it should not GET a business by the given wrong location', (done) => {\n      User.create({\n        title: 'mr',\n        firstname: 'somto',\n        lastname: 'Ikwuoma',\n        username: 'sommy',\n        password: '123',\n        email: 'somto@gmail.com',\n        gender: 'male',\n        street: 'ljan terrasse 346',\n        city: 'ikotun',\n        state: 'lagos',\n        country: 'Nigeria',\n        dob: '2015-11-04',\n        phone: '66976498',\n        userImage: 'usersUploads/testFile.png'\n      })\n        .then((user) => {\n          Business.create({\n            businessName: 'Sommy1',\n            description: 'We produce quality products',\n            street: '4 jvjvkjvj, kfkjfj',\n            city: 'Sinner',\n            state: 'Lagos',\n            country: 'Nigeria',\n            datefound: '2015-11-04',\n            email: 'wecon@bfbf.b',\n            phone: '34165448',\n            category: 'Production',\n            companyImage: '',\n            userId: user.dataValues.id,\n          }).then(() => {\n            request\n              .get('/v1/businesses')\n              .query('location=abuja') // /businesses?location='lagos'\n              .end((err, res) => {\n                res.should.have.status(404);\n                res.body.should.be.a('object');\n                res.body.message.should.be.eql('Businesses not found');\n                done();\n              });\n          });\n        });\n    });\n\n\n    it('it should GET a business by the given location && category', (done) => {\n      User.create({\n        title: 'mr',\n        firstname: 'somto',\n        lastname: 'Ikwuoma',\n        username: 'sommy',\n        password: '123',\n        email: 'somto@gmail.com',\n        gender: 'male',\n        street: 'ljan terrasse 346',\n        city: 'ikotun',\n        state: 'lagos',\n        country: 'Nigeria',\n        dob: '2015-11-04',\n        phone: '66976498',\n        userImage: 'usersUploads/testFile.png'\n      })\n        .then((user) => {\n          Business.create({\n            businessName: 'Sommy1',\n            description: 'We produce quality products',\n            street: '4 jvjvkjvj, kfkjfj',\n            city: 'Sinner',\n            state: 'Lagos',\n            country: 'Nigeria',\n            datefound: '2015-11-04',\n            email: 'wecon@bfbf.b',\n            phone: '34165448',\n            category: 'Production',\n            companyImage: '',\n            userId: user.dataValues.id,\n          }).then((business1) => {\n            request\n              .get('/v1/businesses')\n              .query({ location: 'Nigeria', category: 'Production' }) // /businesses?location='lagos'&category='Production'\n              .end((err, res) => {\n                res.should.have.status(200);\n                res.body.should.have.property('0');\n                res.body.should.have.deep.property('0');\n                res.body.should.have.deep.property('0').property('id').eql(business1.dataValues.id);\n                res.body.should.have.deep.property('0').property('businessName').eql('Sommy1');\n                res.body.should.have.deep.property('0').property('state').eql('Lagos');\n                res.body.should.have.deep.property('0').property('country').eql('Nigeria');\n                res.body.should.have.deep.property('0').property('category').eql('Production');\n                res.body.should.have.deep.property('0').property('phone').eql('34165448');\n                done();\n              });\n          });\n        });\n    });\n\n    it('it should not GET a business by the given location && category', (done) => {\n      User.create({\n        title: 'mr',\n        firstname: 'somto',\n        lastname: 'Ikwuoma',\n        username: 'sommy',\n        password: '123',\n        email: 'somto@gmail.com',\n        gender: 'male',\n        street: 'ljan terrasse 346',\n        city: 'ikotun',\n        state: 'lagos',\n        country: 'Nigeria',\n        dob: '2015-11-04',\n        phone: '66976498',\n        userImage: 'usersUploads/testFile.png'\n      })\n        .then((user) => {\n          Business.create({\n            businessName: 'Sommy1',\n            description: 'We produce quality products',\n            street: '4 jvjvkjvj, kfkjfj',\n            city: 'Sinner',\n            state: 'Lagos',\n            country: 'Nigeria',\n            datefound: '2015-11-04',\n            email: 'wecon@bfbf.b',\n            phone: '34165448',\n            category: 'Production',\n            companyImage: '',\n            userId: user.dataValues.id,\n          }).then(() => {\n            request\n              .get('/v1/businesses')\n              .query({ location: 'abuja', category: 'Production' }) // /businesses?location ='lagos'&category='Production'\n              .end((err, res) => {\n                res.should.have.status(404);\n                res.body.should.be.a('object');\n                res.body.message.should.be.eql('Businesses not found');\n                done();\n              });\n          });\n        });\n    });\n  });\n\n  /*\n   * Test the /PUT/:id route\n   */\n  describe('/PUT/:id business', () => {\n    it('it should UPDATE a business given the id', (done) => {\n      request\n        .post('/auth/v1/signup')\n        .field('title', 'mr')\n        .field('firstname', 'Justin')\n        .field('lastname', 'Ikwuoma')\n        .field('username', 'justman')\n        .field('password', 'abc')\n        .field('email', 'justin@gmail.com')\n        .field('gender', 'male')\n        .field('street', 'ljan terrasse 346')\n        .field('city', 'ikotun')\n        .field('state', 'lagos')\n        .field('country', 'Nigeria')\n        .field('dob', '2015-11-04')\n        .field('phone', '66976498')\n        .attach('userImage', '')\n        .end((err, res) => {\n\n          Business.create({\n            businessName: 'Comango',\n            description: 'We manufacture quality products',\n            street: 'demfec, spotless',\n            city: 'Sinner',\n            state: 'Lagos',\n            country: 'Nigeria',\n            datefound: '2015-11-04',\n            email: 'wecon@bfbf.b',\n            phone: '888888',\n            category: 'Production',\n            companyImage: '',\n            userId: res.body.user.id,\n          }).then((business) => {\n            request\n              .put(`/v1/businesses/${business.dataValues.id}`)\n              .set('x-access-token', res.body.token)\n              .field('businessName', 'Sommyj Enterprise')\n              .field('description', 'We sale quality products')\n              .field('street', '4, badamus str')\n              .field('city', 'Stoppe')\n              .field('state', 'port-harcourt')\n              .field('country', 'Nigeria')\n              .field('datefound', '2015-11-04')\n              .field('email', 'sommyj@gmail.com')\n              .field('phone', '021316')\n              .field('category', 'Sales')\n              .attach('companyImage', './testFile.png')\n              .end((err, res) => {\n                res.should.have.status(200); // 'success' status\n                res.body.should.be.a('object');\n                res.body.should.have.property('id').eql(business.dataValues.id);\n                res.body.should.have.property('businessName').eql('Sommyj Enterprise');\n                res.body.should.have.property('userId').eql(business.dataValues.userId);\n                res.body.should.have.property('description').eql('We sale quality products');\n                res.body.should.have.property('state').eql('port-harcourt');\n                res.body.should.have.property('category').eql('Sales');\n                res.body.should.have.property('companyImage').eql(res.body.companyImage);\n\n                // delete test image file\n                if (path.resolve('./testFile.png')) {\n                  deleteFile(`./${res.body.companyImage}`);\n                }\n                done();\n              });\n          });\n        });\n    });\n\n\n    it('it should not UPDATE a business given the wrong id', (done) => {\n      request\n        .post('/auth/v1/signup')\n        .field('title', 'mr')\n        .field('firstname', 'Justin')\n        .field('lastname', 'Ikwuoma')\n        .field('username', 'justman')\n        .field('password', 'abc')\n        .field('email', 'justin@gmail.com')\n        .field('gender', 'male')\n        .field('street', 'ljan terrasse 346')\n        .field('city', 'ikotun')\n        .field('state', 'lagos')\n        .field('country', 'Nigeria')\n        .field('dob', '2015-11-04')\n        .field('phone', '66976498')\n        .attach('userImage', '')\n        .end((err, res) => {\n\n          Business.create({\n            businessName: 'Comango',\n            description: 'We manufacture quality products',\n            street: 'demfec, spotless',\n            city: 'Sinner',\n            state: 'Lagos',\n            country: 'Nigeria',\n            datefound: '2015-11-04',\n            email: 'wecon@bfbf.b',\n            phone: '888888',\n            category: 'Production',\n            companyImage: '',\n            userId: res.body.user.id,\n          }).then((business) => {\n\n            request\n              .put('/v1/businesses/12')\n              .set('x-access-token', res.body.token)\n              .field('businessName', 'Sommyj Enterprise')\n              .field('description', 'We sale quality products')\n              .field('street', '4, badamus str')\n              .field('city', 'Stoppe')\n              .field('state', 'port-harcourt')\n              .field('country', 'Nigeria')\n              .field('datefound', '2015-11-04')\n              .field('email', 'sommyj@gmail.com')\n              .field('phone', '021316')\n              .field('category', 'Sales')\n              .attach('companyImage', './testFile.png')\n              .end((err, res) => {\n                res.should.have.status(404);\n                res.body.should.be.a('object');\n                res.body.should.have.property('message').eql('Business not found');\n\n                done();\n              });\n          });\n        });\n    });\n\n    it(`it should UPDATE a business given the id and\n    maintain already existing fields and file if none is entered`, (done) => {\n      request\n        .post('/auth/v1/signup')\n        .field('title', 'mr')\n        .field('firstname', 'Justin')\n        .field('lastname', 'Ikwuoma')\n        .field('username', 'justman')\n        .field('password', 'abc')\n        .field('email', 'justin@gmail.com')\n        .field('gender', 'male')\n        .field('street', 'ljan terrasse 346')\n        .field('city', 'ikotun')\n        .field('state', 'lagos')\n        .field('country', 'Nigeria')\n        .field('dob', '2015-11-04')\n        .field('phone', '66976498')\n        .attach('userImage', '')\n        .end((err, res) => {\n\n          Business.create({\n            businessName: 'Comango',\n            description: 'We manufacture quality products',\n            street: 'demfec, spotless',\n            city: 'Sinner',\n            state: 'Lagos',\n            country: 'Nigeria',\n            datefound: '2015-11-04',\n            email: 'wecon@bfbf.b',\n            phone: '888888',\n            category: 'Production',\n            companyImage: '',\n            userId: res.body.user.id,\n          }).then((business) => {\n\n            request\n              .put(`/v1/businesses/${business.dataValues.id}`)\n              .set('x-access-token', res.body.token)\n              .field('businessName', '')\n              .field('description', '')\n              .field('street', '')\n              .field('city', '')\n              .field('state', '')\n              .field('country', '')\n              .field('datefound', '')\n              .field('email', '')\n              .field('phone', '')\n              .field('category', '')\n              .attach('companyImage', '')\n              .end((err, res) => {\n                res.should.have.status(200); // 'success' status\n                res.body.should.be.a('object');\n                res.body.should.have.property('id').eql(business.dataValues.id);\n                res.body.should.have.property('businessName').eql('Comango');\n                res.body.should.have.property('userId').eql(res.body.userId);\n                res.body.should.have.property('description').eql('We manufacture quality products');\n                res.body.should.have.property('state').eql('Lagos');\n                res.body.should.have.property('country').eql('Nigeria');\n                res.body.should.have.property('category').eql('Production');\n                res.body.should.have.property('companyImage').eql(res.body.companyImage);\n\n                done();\n              });\n          });\n        });\n    });\n\n  //\n  //   it('it should UPDATE a business given the id and replace already existing file', (done) => {\n  //     User.create({\n  //       title: 'mr',\n  //       firstname: 'somto',\n  //       lastname: 'Ikwuoma',\n  //       username: 'somman',\n  //       password: '123',\n  //       email: 'somtojy@gmail.com',\n  //       gender: 'male',\n  //       street: 'ljan terrasse 346',\n  //       city: 'ikotun',\n  //       state: 'lagos',\n  //       country: 'Nigeria',\n  //       dob: '2015-11-04',\n  //       phone: '8888453',\n  //       userImage: 'usersUploads/testFile.png'\n  //     })\n  //       .then((user) => {\n  //         Business.create({\n  //           businessName: 'Mango.com',\n  //           description: 'We manufacture quality products',\n  //           street: 'demfec, spotless',\n  //           city: 'Sinner',\n  //           state: 'Lagos',\n  //           country: 'Nigeria',\n  //           datefound: '2015-11-04',\n  //           email: 'stop@bfbf.bf',\n  //           phone: '888888453',\n  //           category: 'Production',\n  //           companyImage: 'businessesUploads/testFile.png',\n  //           userId: user.dataValues.id,\n  //         }).then((business) => {\n  //           const filename = 'testFile.png';\n  //           const src = path.join('./', filename);\n  //           const destDir = path.join('./', 'businessesUploads');\n  //\n  //           fs.access(destDir, (err) => {\n  //             if (err) { fs.mkdirSync(destDir); }\n  //\n  //             copyFile(src, path.join(destDir, filename));\n  //           });\n  //\n  //\n  //           request\n  //             .put(`/v1/businesses/${business.dataValues.id}`)\n  //             .field('businessName', 'Sommy Enterprise')\n  //             .field('userId', user.dataValues.id)\n  //             .field('description', 'We sale quality products')\n  //             .field('street', '4, badamus str')\n  //             .field('city', 'Stoppe')\n  //             .field('state', 'port-harcourt')\n  //             .field('country', 'Nigeria')\n  //             .field('datefound', '2015-11-04')\n  //             .field('email', 'sommyj@gmail.com')\n  //             .field('phone', '021316')\n  //             .field('category', 'Sales')\n  //             .attach('companyImage', './testFile.png')\n  //             .end((err, res) => {\n  //               res.should.have.status(200); // 'success' status\n  //               res.body.should.be.a('object');\n  //               res.body.should.have.property('id').eql(business.dataValues.id);\n  //               res.body.should.have.property('businessName').eql('Sommy Enterprise');\n  //               res.body.should.have.property('userId').eql(`${user.dataValues.id}`);\n  //               res.body.should.have.property('description').eql('We sale quality products');\n  //               res.body.should.have.property('state').eql('port-harcourt');\n  //               res.body.should.have.property('country').eql('Nigeria');\n  //               res.body.should.have.property('category').eql('Sales');\n  //               res.body.should.have.property('companyImage').eql(res.body.companyImage);\n  //\n  //               // delete test image file\n  //               if (path.resolve('./testFile')) {\n  //                 deleteFile(`./${res.body.companyImage}`);\n  //               }\n  //               done();\n  //             });\n  //         });\n  //       });\n  //   });\n  //\n  //   it('it should not UPDATE a business when image file type not jpg/png', (done) => {\n  //     User.create({\n  //       title: 'mr',\n  //       firstname: 'somto',\n  //       lastname: 'Ikwuoma',\n  //       username: 'somman1',\n  //       password: '123',\n  //       email: 'somto1@gmail.com',\n  //       gender: 'male',\n  //       street: 'ljan terrasse 346',\n  //       city: 'ikotun',\n  //       state: 'lagos',\n  //       country: 'Nigeria',\n  //       dob: '2015-11-04',\n  //       phone: '88884531',\n  //       userImage: 'usersUploads/testFile.png'\n  //     })\n  //       .then((user) => {\n  //         Business.create({\n  //           businessName: 'Come.com',\n  //           description: 'We use quality products',\n  //           street: 'demzec, zpotless',\n  //           city: 'Sinner',\n  //           state: 'Lagos',\n  //           country: 'Nigeria',\n  //           datefound: '2015-11-04',\n  //           email: 'ztop@bfbf.bf',\n  //           phone: '888188453',\n  //           category: 'Production',\n  //           companyImage: 'businessesUploads/testFile.png',\n  //           userId: user.dataValues.id,\n  //         }).then((business) => {\n  //           request\n  //             .put(`/v1/businesses/${business.dataValues.id}`)\n  //             .field('businessName', 'Sommy Enterprise')\n  //             .field('userId', user.dataValues.id)\n  //             .field('description', 'We sale quality products')\n  //             .field('street', '4, badamus str')\n  //             .field('city', 'Stoppe')\n  //             .field('state', 'port-harcourt')\n  //             .field('country', 'Nigeria')\n  //             .field('datefound', '2015-11-04')\n  //             .field('email', 'sommyj@gmail.com')\n  //             .field('phone', '021316')\n  //             .field('category', 'Sales')\n  //             .attach('companyImage', './testFileType.txt')\n  //             .end((err, res) => {\n  //               res.should.have.status(403);\n  //               res.body.should.be.a('object');\n  //               res.body.should.have.property('message').eql('Only .png and .jpg files are allowed!');\n  //               res.body.should.have.property('error').eql(true);\n  //               done();\n  //             });\n  //         });\n  //       });\n  //   });\n  //\n  //\n  //   it(`it should not UPDATE a business\n  //   when image file size is larger than 2mb`, (done) => {\n  //     User.create({\n  //       title: 'mr',\n  //       firstname: 'somto',\n  //       lastname: 'Ikwuoma',\n  //       username: 'somman1',\n  //       password: '123',\n  //       email: 'somto1@gmail.com',\n  //       gender: 'male',\n  //       street: 'ljan terrasse 346',\n  //       city: 'ikotun',\n  //       state: 'lagos',\n  //       country: 'Nigeria',\n  //       dob: '2015-11-04',\n  //       phone: '88884531',\n  //       userImage: 'usersUploads/testFile.png'\n  //     })\n  //       .then((user) => {\n  //         Business.create({\n  //           businessName: 'Come.com',\n  //           description: 'We use quality products',\n  //           street: 'demzec, zpotless',\n  //           city: 'Sinner',\n  //           state: 'Lagos',\n  //           country: 'Nigeria',\n  //           datefound: '2015-11-04',\n  //           email: 'ztop@bfbf.bf',\n  //           phone: '888188453',\n  //           category: 'Production',\n  //           companyImage: 'businessesUploads/testFile.png',\n  //           userId: user.dataValues.id,\n  //         }).then((business) => {\n  //           request\n  //             .put(`/v1/businesses/${business.dataValues.id}`)\n  //             .field('businessName', 'Sommy Limited')\n  //             .field('userId', user.dataValues.id)\n  //             .field('description', 'We sale quality products')\n  //             .field('street', '4, badamus str')\n  //             .field('city', 'Stoppe')\n  //             .field('state', 'port-harcourt')\n  //             .field('country', 'Nigeria')\n  //             .field('datefound', '2015-11-04')\n  //             .field('email', 'sommyj@gmail.com')\n  //             .field('phone', '02131684')\n  //             .field('category', 'Sales')\n  //             .attach('companyImage', './testFileSize.jpg')\n  //             .end((err, res) => {\n  //               res.should.have.status(403);\n  //               res.body.should.be.a('object');\n  //               res.body.should.have.property('message').eql('file should not be more than 2mb!');\n  //               res.body.should.have.property('error').eql(true);\n  //               done();\n  //             });\n  //         });\n  //       });\n  //   });\n  //\n  //   it('it should not UPDATE a business if businessName, email, phone already exist', (done) => {\n  //     User.create({\n  //       title: 'mr',\n  //       firstname: 'somto',\n  //       lastname: 'Ikwuoma',\n  //       username: 'sommy',\n  //       password: '123',\n  //       email: 'somto@gmail.com',\n  //       gender: 'male',\n  //       street: 'ljan terrasse 346',\n  //       city: 'ikotun',\n  //       state: 'lagos',\n  //       country: 'Nigeria',\n  //       dob: new Date('2015-11-04'),\n  //       phone: '66976498',\n  //       userImage: 'usersUploads/testFile.png'\n  //     })\n  //       .then((user) => {\n  //         Business.create({\n  //           businessName: 'Sommyj',\n  //           description: 'We produce quality products',\n  //           street: '4 jvjvkjvj, kfkjfj',\n  //           city: 'Sinner',\n  //           state: 'Lagos',\n  //           country: 'Nigeria',\n  //           datefound: '2015-11-04',\n  //           email: 'sommyj@gmail.com',\n  //           phone: '021316',\n  //           category: 'Production',\n  //           companyImage: '',\n  //           userId: user.dataValues.id,\n  //         });\n  //\n  //         Business.create({\n  //           businessName: 'Sommy1',\n  //           description: 'We produce quality products',\n  //           street: '4 jvjvkjvj, kfkjfj',\n  //           city: 'Sinner',\n  //           state: 'Lagos',\n  //           country: 'Nigeria',\n  //           datefound: '2015-11-04',\n  //           email: 'sommy@gmail.com',\n  //           phone: '021316445',\n  //           category: 'Production',\n  //           companyImage: '',\n  //           userId: user.dataValues.id,\n  //         }).then((business) => {\n  //           request\n  //             .put(`/v1/businesses/${business.dataValues.id}`)\n  //             .field('businessName', 'Sommyj')\n  //             .field('userId', user.dataValues.id)\n  //             .field('description', 'We produce quality products')\n  //             .field('street', '4, badamus str')\n  //             .field('city', 'Stoppe')\n  //             .field('state', 'Lagos')\n  //             .field('country', 'Nigeria')\n  //             .field('datefound', '2015-11-04')\n  //             .field('email', 'sommyj@gmail.com')\n  //             .field('phone', '021316')\n  //             .field('category', 'Production')\n  //             .attach('companyImage', '')\n  //             .end((err, res) => {\n  //               res.should.have.status(400);\n  //               res.body.should.be.a('object');\n  //               res.body.should.have.property('errors');\n  //               res.body.should.have.property('name').eql('SequelizeUniqueConstraintError');\n  //\n  //               done();\n  //             });\n  //         });\n  //       });\n  //   });\n  //\n  //   it('it should not UPDATE a business if user does not exist', (done) => {\n  //     User.create({\n  //       title: 'mr',\n  //       firstname: 'somto',\n  //       lastname: 'Ikwuoma',\n  //       username: 'sommy',\n  //       password: '123',\n  //       email: 'somto@gmail.com',\n  //       gender: 'male',\n  //       street: 'ljan terrasse 346',\n  //       city: 'ikotun',\n  //       state: 'lagos',\n  //       country: 'Nigeria',\n  //       dob: new Date('2015-11-04'),\n  //       phone: '66976498',\n  //       userImage: 'usersUploads/testFile.png'\n  //     })\n  //       .then((user) => {\n  //         Business.create({\n  //           businessName: 'Sommyj',\n  //           description: 'We produce quality products',\n  //           street: '4 jvjvkjvj, kfkjfj',\n  //           city: 'Sinner',\n  //           state: 'Lagos',\n  //           country: 'Nigeria',\n  //           datefound: '2015-11-04',\n  //           email: 'sommyj@gmail.com',\n  //           phone: '021316',\n  //           category: 'Production',\n  //           companyImage: '',\n  //           userId: user.dataValues.id,\n  //         }).then((business) => {\n  //           request\n  //             .put(`/v1/businesses/${business.dataValues.id}`)\n  //             .field('businessName', 'Sommy1')\n  //             .field('userId', 0)\n  //             .field('description', 'We produce quality products')\n  //             .field('street', '4, badamus str')\n  //             .field('city', 'Stoppe')\n  //             .field('state', 'Lagos')\n  //             .field('country', 'Nigeria')\n  //             .field('datefound', '2015-11-04')\n  //             .field('email', 'sommy@gmail.com')\n  //             .field('phone', '02131645')\n  //             .field('category', 'Production')\n  //             .attach('companyImage', '')\n  //             .end((err, res) => {\n  //               res.should.have.status(400);\n  //               res.body.should.be.a('object');\n  //               res.body.should.have.property('name').eql('SequelizeForeignKeyConstraintError');\n  //\n  //               done();\n  //             });\n  //         });\n  //       });\n  //   });\n  });\n\n  /*\n  * Test the /DELETE/:id route\n  */\n  describe('/DELETE/:id business', () => {\n    it('it should DELETE a business given the id', (done) => {\n      User.create({\n        title: 'mr',\n        firstname: 'somto',\n        lastname: 'Ikwuoma',\n        username: 'somman11',\n        password: '123',\n        email: 'somto12@gmail.com',\n        gender: 'male',\n        street: 'ljan terrasse 346',\n        city: 'ikotun',\n        state: 'lagos',\n        country: 'Nigeria',\n        dob: '2015-11-04',\n        phone: '88584531',\n        userImage: 'usersUploads/testFile.png'\n      })\n        .then((user) => {\n          Business.create({\n            businessName: 'Some.com',\n            description: 'We use quality products',\n            street: 'demzec, zpotless',\n            city: 'Sinner',\n            state: 'Lagos',\n            country: 'Nigeria',\n            datefound: '2015-11-04',\n            email: 'ztod@bfbf.bf',\n            phone: '88188453',\n            category: 'Production',\n            companyImage: 'businessesUploads/testFile.png',\n            userId: user.dataValues.id,\n          }).then((business) => {\n            const filename = 'testFile.png';\n            const src = path.join('./', filename);\n            const destDir = path.join('./', 'businessesUploads');\n\n            // copy image file to businessesUploads\n            fs.access(destDir, (err) => {\n              if (err) { fs.mkdirSync(destDir); }\n\n              copyFile(src, path.join(destDir, filename));\n            });\n\n            request\n              .delete(`/v1/businesses/${business.dataValues.id}`)\n              .end((err, res) => {\n                res.should.have.status(204);\n                res.body.should.be.a('object');\n                done();\n              });\n          });\n        });\n    });\n\n    it('it should not DELETE a business given the wrong id', (done) => {\n      User.create({\n        title: 'mr',\n        firstname: 'somto',\n        lastname: 'Ikwuoma',\n        username: 'somman12',\n        password: '123',\n        email: 'sommy12@gmail.com',\n        gender: 'male',\n        street: 'ljan terrasse 346',\n        city: 'ikotun',\n        state: 'lagos',\n        country: 'Nigeria',\n        dob: '2015-11-04',\n        phone: '88584530',\n        userImage: 'usersUploads/testFile.png'\n      })\n        .then((user) => {\n          Business.create({\n            businessName: 'Some1.com',\n            description: 'We use quality products',\n            street: 'demzec, zpotless',\n            city: 'Sinner',\n            state: 'Lagos',\n            country: 'Nigeria',\n            datefound: '2015-11-04',\n            email: 'ztod1@bfbf.bf',\n            phone: '881884530',\n            category: 'Production',\n            companyImage: 'businessesUploads/testFile.png',\n            userId: user.dataValues.id,\n          }).then(() => {\n            request\n              .delete('/v1/businesses/13')\n              .end((err, res) => {\n                res.should.have.status(404);\n                res.body.should.be.a('object');\n                res.body.should.have.property('message').eql('Business not found');\n                done();\n              });\n          });\n        });\n    });\n  });\n});\n"]}