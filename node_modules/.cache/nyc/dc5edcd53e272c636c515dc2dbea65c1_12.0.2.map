{"version":3,"sources":["reviews-spec.js"],"names":["_chai","require","_chai2","_interopRequireDefault","_supertest","_supertest2","_models","_models2","_app","_app2","obj","__esModule","default","process","env","NODE_ENV","should","request","_ref","User","Business","Review","describe","beforeEach","done","destroy","where","force","then","it","get","end","err","res","have","status","body","be","a","length","eql","create","title","firstname","lastname","username","password","email","gender","street","city","state","country","dob","phone","userImage","user","businessName","description","datefound","category","companyImage","userId","dataValues","id","business","response","businessId","deep","property","post","send","review","put","delete"],"mappings":"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","file":"reviews-spec.js","sourceRoot":"/home/somto/Andela/We-Connect/lib/test","sourcesContent":["'use strict';\n\nvar _chai = require('chai');\n\nvar _chai2 = _interopRequireDefault(_chai);\n\nvar _supertest = require('supertest');\n\nvar _supertest2 = _interopRequireDefault(_supertest);\n\nvar _models = require('../server/models');\n\nvar _models2 = _interopRequireDefault(_models);\n\nvar _app = require('../app');\n\nvar _app2 = _interopRequireDefault(_app);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// During the test the env variable is set to test\n// Require the dev-dependencies\nprocess.env.NODE_ENV = 'test';\n\n_chai2.default.should();\nvar request = (0, _supertest2.default)(_app2.default);\nvar _ref = [_models2.default.User, _models2.default.Business, _models2.default.Review],\n    User = _ref[0],\n    Business = _ref[1],\n    Review = _ref[2];\n\n\ndescribe('Reviews', function () {\n  beforeEach(function (done) {\n    // Before each test we empty the database\n    User.destroy({ where: {}, force: true });\n    Business.destroy({ where: {}, force: true });\n    Review.destroy({ where: {}, force: true }).then(function () {\n      return done();\n    });\n  });\n\n  describe('/GET review', function () {\n    it('it should GET empty reviews', function (done) {\n      request.get('/v1/businesses/1/reviews').end(function (err, res) {\n        res.should.have.status(200);\n        res.body.should.be.a('array');\n        res.body.length.should.be.eql(0);\n        done();\n      });\n    });\n    it('it should GET all the reviews', function (done) {\n      User.create({\n        title: 'mr',\n        firstname: 'somto',\n        lastname: 'Ikwuoma',\n        username: 'sommy1',\n        password: '123',\n        email: 'somto1@gmail.com',\n        gender: 'male',\n        street: 'ljan terrasse 346',\n        city: 'ikotun',\n        state: 'lagos',\n        country: 'Nigeria',\n        dob: '2015-11-04',\n        phone: '166976498',\n        userImage: 'usersUploads/testFile.png'\n      }).then(function (user) {\n        Business.create({\n          businessName: 'Sommy',\n          description: 'We produce quality products',\n          street: '4 jvjvkjvj, kfkjfj',\n          city: 'Sinner',\n          state: 'Lagos',\n          country: 'Nigeria',\n          datefound: '2015-11-04',\n          email: 'wecon@bfbf.b',\n          phone: '34165448',\n          category: 'Production',\n          companyImage: '',\n          userId: user.dataValues.id\n        }).then(function (business) {\n          Review.create({\n            response: 'come',\n            userId: user.dataValues.id,\n            businessId: business.dataValues.id\n          }).then(function () {\n            request.get('/v1/businesses/' + business.dataValues.id + '/reviews').end(function (err, res) {\n              res.should.have.status(200);\n              res.body.should.be.a('array');\n              res.body.should.have.deep.property('0').property('response').eql('come');\n              res.body.should.have.deep.property('0').property('userId').eql(user.dataValues.id);\n              res.body.should.have.deep.property('0').property('businessId').eql(business.dataValues.id);\n              done();\n            });\n          });\n        });\n      });\n    });\n\n    it('it should GET empty reviews if reviews does not exists', function (done) {\n      User.create({\n        title: 'mr',\n        firstname: 'somto',\n        lastname: 'Ikwuoma',\n        username: 'sommy',\n        password: '123',\n        email: 'somto@gmail.com',\n        gender: 'male',\n        street: 'ljan terrasse 346',\n        city: 'ikotun',\n        state: 'lagos',\n        country: 'Nigeria',\n        dob: '2015-11-04',\n        phone: '66976498',\n        userImage: 'usersUploads/testFile.png'\n      }).then(function (user) {\n        Business.create({\n          businessName: 'Sommy1',\n          description: 'We produce quality products',\n          street: '4 jvjvkjvj, kfkjfj',\n          city: 'Sinner',\n          state: 'Lagos',\n          country: 'Nigeria',\n          datefound: '2015-11-04',\n          email: 'wecon1@bfbf.b',\n          phone: '134165448',\n          category: 'Production',\n          companyImage: '',\n          userId: user.dataValues.id\n        }).then(function (business) {\n          Review.create({\n            response: 1,\n            userId: user.dataValues.id,\n            businessId: business.dataValues.id\n          }).then(function () {\n            request.get('/v1/businesses/1/reviews').end(function (err, res) {\n              res.should.have.status(200);\n              res.body.should.be.a('array');\n              res.body.length.should.be.eql(0);\n              done();\n            });\n          });\n        });\n      });\n    });\n  });\n\n  describe('/POST review', function () {\n    it('it should not POST a review without a response', function (done) {\n      User.create({\n        title: 'mr',\n        firstname: 'somto',\n        lastname: 'Ikwuoma',\n        username: 'zuma',\n        password: 'zumarock',\n        email: 'rock@gmail.com',\n        gender: 'male',\n        street: 'ljan terrasse 346',\n        city: 'ikotun',\n        state: 'lagos',\n        country: 'Nigeria',\n        dob: '2015-11-04',\n        phone: '00110011',\n        userImage: 'usersUploads/testFile.png'\n      }).then(function (user) {\n        Business.create({\n          businessName: 'Rocky nation',\n          description: 'We produce quality products',\n          street: '4 jvjvkjvj, kfkjfj',\n          city: 'Sinner',\n          state: 'Lagos',\n          country: 'Nigeria',\n          datefound: '2015-11-04',\n          email: 'bigups@bfbf.b',\n          phone: '111198728',\n          category: 'Production',\n          companyImage: '',\n          userId: user.dataValues.id\n        }).then(function (business) {\n          request.post('/v1/businesses/' + business.dataValues.id + '/reviews').send({\n            response: '',\n            userId: '' + user.dataValues.id,\n            businessId: '' + business.dataValues.id\n          }).end(function (err, res) {\n            res.should.have.status(206);\n            res.body.should.be.a('object');\n            res.body.should.have.property('message').eql('Incomplete field');\n            done();\n          });\n        });\n      });\n    });\n\n    it('it should post a review', function (done) {\n      User.create({\n        title: 'mr',\n        firstname: 'somto',\n        lastname: 'Ikwuoma',\n        username: 'zuma',\n        password: 'zumarock',\n        email: 'rock@gmail.com',\n        gender: 'male',\n        street: 'ljan terrasse 346',\n        city: 'ikotun',\n        state: 'lagos',\n        country: 'Nigeria',\n        dob: '2015-11-04',\n        phone: '00110011',\n        userImage: 'usersUploads/testFile.png'\n      }).then(function (user) {\n        Business.create({\n          businessName: 'Rocky nation',\n          description: 'We produce quality products',\n          street: '4 jvjvkjvj, kfkjfj',\n          city: 'Sinner',\n          state: 'Lagos',\n          country: 'Nigeria',\n          datefound: '2015-11-04',\n          email: 'bigups@bfbf.b',\n          phone: '111198728',\n          category: 'Production',\n          companyImage: '',\n          userId: user.dataValues.id\n        }).then(function (business) {\n          request.post('/v1/businesses/' + business.dataValues.id + '/reviews').send({\n            response: 'very good.',\n            userId: user.dataValues.id,\n            businessId: business.dataValues.id\n          }).end(function (err, res) {\n            res.should.have.status(201);\n            res.body.should.be.a('object');\n            res.body.should.have.property('id').eql(res.body.id);\n            res.body.should.have.property('response').eql('very good.');\n            res.body.should.have.property('userId').eql(user.dataValues.id);\n            res.body.should.have.property('businessId').eql(business.dataValues.id);\n            done();\n          });\n        });\n      });\n    });\n  });\n\n  describe('/PUT review', function () {\n    it('it should update a review given the id', function (done) {\n      User.create({\n        title: 'mr',\n        firstname: 'somto',\n        lastname: 'Ikwuoma',\n        username: 'sommy',\n        password: '123',\n        email: 'somto@gmail.com',\n        gender: 'male',\n        street: 'ljan terrasse 346',\n        city: 'ikotun',\n        state: 'lagos',\n        country: 'Nigeria',\n        dob: '2015-11-04',\n        phone: '66976498',\n        userImage: 'usersUploads/testFile.png'\n      }).then(function (user) {\n        Business.create({\n          businessName: 'Sommy1',\n          description: 'We produce quality products',\n          street: '4 jvjvkjvj, kfkjfj',\n          city: 'Sinner',\n          state: 'Lagos',\n          country: 'Nigeria',\n          datefound: '2015-11-04',\n          email: 'wecon1@bfbf.b',\n          phone: '134165448',\n          category: 'Production',\n          companyImage: '',\n          userId: user.dataValues.id\n        }).then(function (business) {\n          Review.create({\n            response: 'very good.',\n            userId: user.dataValues.id,\n            businessId: business.dataValues.id\n          }).then(function (review) {\n            request.put('/v1/businesses/' + business.dataValues.id + '/reviews/' + review.dataValues.id).send({\n              response: 'just fair',\n              userId: user.dataValues.id,\n              businessId: business.dataValues.id\n            }).end(function (err, res) {\n              res.should.have.status(200);\n              res.body.should.have.property('id').eql(review.dataValues.id);\n              res.body.should.have.property('response').eql('just fair');\n              res.body.should.have.property('userId').eql(user.dataValues.id);\n              res.body.should.have.property('businessId').eql('' + business.dataValues.id);\n              done();\n            });\n          });\n        });\n      });\n    });\n\n    it('it should not update a review given the wrong id', function (done) {\n      User.create({\n        title: 'mr',\n        firstname: 'somto',\n        lastname: 'Ikwuoma',\n        username: 'sommy',\n        password: '123',\n        email: 'somto@gmail.com',\n        gender: 'male',\n        street: 'ljan terrasse 346',\n        city: 'ikotun',\n        state: 'lagos',\n        country: 'Nigeria',\n        dob: '2015-11-04',\n        phone: '66976498',\n        userImage: 'usersUploads/testFile.png'\n      }).then(function (user) {\n        Business.create({\n          businessName: 'Sommy1',\n          description: 'We produce quality products',\n          street: '4 jvjvkjvj, kfkjfj',\n          city: 'Sinner',\n          state: 'Lagos',\n          country: 'Nigeria',\n          datefound: '2015-11-04',\n          email: 'wecon1@bfbf.b',\n          phone: '134165448',\n          category: 'Production',\n          companyImage: '',\n          userId: user.dataValues.id\n        }).then(function (business) {\n          Review.create({\n            response: 'very good.',\n            userId: user.dataValues.id,\n            businessId: business.dataValues.id\n          }).then(function () {\n            request.put('/v1/businesses/' + business.dataValues.id + '/reviews/0').send({\n              response: 'just fair',\n              userId: user.dataValues.id,\n              businessId: business.dataValues.id\n            }).end(function (err, res) {\n              res.should.have.status(404);\n              res.body.should.have.property('message').eql('Review not found');\n              done();\n            });\n          });\n        });\n      });\n    });\n\n    it('it should not update a review when userId is alter', function (done) {\n      User.create({\n        title: 'mr',\n        firstname: 'somto',\n        lastname: 'Ikwuoma',\n        username: 'sommy',\n        password: '123',\n        email: 'somto@gmail.com',\n        gender: 'male',\n        street: 'ljan terrasse 346',\n        city: 'ikotun',\n        state: 'lagos',\n        country: 'Nigeria',\n        dob: '2015-11-04',\n        phone: '66976498',\n        userImage: 'usersUploads/testFile.png'\n      }).then(function (user) {\n        Business.create({\n          businessName: 'Sommy1',\n          description: 'We produce quality products',\n          street: '4 jvjvkjvj, kfkjfj',\n          city: 'Sinner',\n          state: 'Lagos',\n          country: 'Nigeria',\n          datefound: '2015-11-04',\n          email: 'wecon1@bfbf.b',\n          phone: '134165448',\n          category: 'Production',\n          companyImage: '',\n          userId: user.dataValues.id\n        }).then(function (business) {\n          Review.create({\n            response: 'very good.',\n            userId: user.dataValues.id,\n            businessId: business.dataValues.id\n          }).then(function (review) {\n            request.put('/v1/businesses/' + business.dataValues.id + '/reviews/' + review.dataValues.id).send({\n              response: 'just fair',\n              userId: 2,\n              businessId: business.dataValues.id\n            }).end(function (err, res) {\n              res.should.have.status(400);\n              res.body.should.have.property('message').eql('User can not be altered');\n              done();\n            });\n          });\n        });\n      });\n    });\n\n    it('it should not update a review when userId is alter', function (done) {\n      User.create({\n        title: 'mr',\n        firstname: 'somto',\n        lastname: 'Ikwuoma',\n        username: 'sommy',\n        password: '123',\n        email: 'somto@gmail.com',\n        gender: 'male',\n        street: 'ljan terrasse 346',\n        city: 'ikotun',\n        state: 'lagos',\n        country: 'Nigeria',\n        dob: '2015-11-04',\n        phone: '66976498',\n        userImage: 'usersUploads/testFile.png'\n      }).then(function (user) {\n        Business.create({\n          businessName: 'Sommy1',\n          description: 'We produce quality products',\n          street: '4 jvjvkjvj, kfkjfj',\n          city: 'Sinner',\n          state: 'Lagos',\n          country: 'Nigeria',\n          datefound: '2015-11-04',\n          email: 'wecon1@bfbf.b',\n          phone: '134165448',\n          category: 'Production',\n          companyImage: '',\n          userId: user.dataValues.id\n        }).then(function (business) {\n          Review.create({\n            response: 'very good.',\n            userId: user.dataValues.id,\n            businessId: business.dataValues.id\n          }).then(function (review) {\n            request.put('/v1/businesses/' + business.dataValues.id + '/reviews/' + review.dataValues.id).send({\n              response: 'just fair',\n              userId: user.dataValues.id,\n              businessId: 2\n            }).end(function (err, res) {\n              res.should.have.status(400);\n              res.body.should.have.property('message').eql('Business can not be altered');\n              done();\n            });\n          });\n        });\n      });\n    });\n  });\n\n  describe('/DELETE/:id review', function () {\n    it('it should not delete a review given the wrong id', function (done) {\n      User.create({\n        title: 'mr',\n        firstname: 'somto',\n        lastname: 'Ikwuoma',\n        username: 'sommy',\n        password: '123',\n        email: 'somto@gmail.com',\n        gender: 'male',\n        street: 'ljan terrasse 346',\n        city: 'ikotun',\n        state: 'lagos',\n        country: 'Nigeria',\n        dob: '2015-11-04',\n        phone: '66976498',\n        userImage: 'usersUploads/testFile.png'\n      }).then(function (user) {\n        Business.create({\n          businessName: 'Sommy1',\n          description: 'We produce quality products',\n          street: '4 jvjvkjvj, kfkjfj',\n          city: 'Sinner',\n          state: 'Lagos',\n          country: 'Nigeria',\n          datefound: '2015-11-04',\n          email: 'wecon1@bfbf.b',\n          phone: '134165448',\n          category: 'Production',\n          companyImage: '',\n          userId: user.dataValues.id\n        }).then(function (business) {\n          Review.create({\n            response: 'very good.',\n            userId: user.dataValues.id,\n            businessId: business.dataValues.id\n          }).then(function () {\n            request.delete('/v1/businesses/' + business.dataValues.id + '/reviews/0').end(function (err, res) {\n              res.should.have.status(404);\n              res.body.should.have.property('message').eql('Review not found');\n              done();\n            });\n          });\n        });\n      });\n    });\n\n    it('it should delete a review given the id', function (done) {\n      User.create({\n        title: 'mr',\n        firstname: 'somto',\n        lastname: 'Ikwuoma',\n        username: 'sommy',\n        password: '123',\n        email: 'somto@gmail.com',\n        gender: 'male',\n        street: 'ljan terrasse 346',\n        city: 'ikotun',\n        state: 'lagos',\n        country: 'Nigeria',\n        dob: '2015-11-04',\n        phone: '66976498',\n        userImage: 'usersUploads/testFile.png'\n      }).then(function (user) {\n        Business.create({\n          businessName: 'Sommy1',\n          description: 'We produce quality products',\n          street: '4 jvjvkjvj, kfkjfj',\n          city: 'Sinner',\n          state: 'Lagos',\n          country: 'Nigeria',\n          datefound: '2015-11-04',\n          email: 'wecon1@bfbf.b',\n          phone: '134165448',\n          category: 'Production',\n          companyImage: '',\n          userId: user.dataValues.id\n        }).then(function (business) {\n          Review.create({\n            response: 'very good.',\n            userId: user.dataValues.id,\n            businessId: business.dataValues.id\n          }).then(function (review) {\n            request.delete('/v1/businesses/' + business.dataValues.id + '/reviews/' + review.dataValues.id).end(function (err, res) {\n              res.should.have.status(204);\n              res.body.should.be.a('object');\n              done();\n            });\n          });\n        });\n      });\n    });\n  });\n});"]}