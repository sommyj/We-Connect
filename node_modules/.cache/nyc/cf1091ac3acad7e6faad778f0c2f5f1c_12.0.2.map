{"version":3,"sources":["reviews-spec.js"],"names":["process","env","NODE_ENV","chai","should","request","app","User","model","Business","Review","describe","beforeEach","done","destroy","where","force","then","it","get","end","err","res","have","status","body","be","a","length","eql","create","title","firstname","lastname","username","password","email","gender","street","city","state","country","dob","phone","userImage","businessName","description","datefound","category","companyImage","userId","user","dataValues","id","response","businessId","business","deep","property","post","send","put","review"],"mappings":"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","file":"reviews-spec.js","sourceRoot":"/home/somto/Andela/We-Connect/server/test","sourcesContent":["//During the test the env variable is set to test\nprocess.env.NODE_ENV = 'test';\n\n// Require the dev-dependencies\nimport chai from 'chai';\nimport supertest from 'supertest';\n\nimport model from '../server/models';\nimport app from '../app';\n\nchai.should();\nconst request = supertest(app);\nconst User = model.User;\nconst Business = model.Business;\nconst Review = model.Review;\n\n\ndescribe('Reviews', () => {\n  beforeEach((done) => { // Before each test we empty the database\n    User.destroy({ where: {}, force: true });\n    Business.destroy({ where: {}, force: true });\n    Review.destroy({where: {}, force: true}).then(() => done());\n  });\n\n  describe('/GET review', () => {\n    it('it should GET empty reviews', (done) => {\n      request\n        .get('/v1/businesses/1/reviews')\n        .end((err, res) => {\n          res.should.have.status(200);\n          res.body.should.be.a('array');\n          res.body.length.should.be.eql(0);\n          done();\n        });\n    });\n    it('it should GET all the reviews', (done) => {\n\n            User.create({\n                  title: 'mr',\n                  firstname: 'somto',\n                  lastname: 'Ikwuoma',\n                  username: 'sommy1',\n                  password: '123',\n                  email: 'somto1@gmail.com',\n                  gender: 'male',\n                  street: 'ljan terrasse 346',\n                  city: 'ikotun',\n                  state: 'lagos',\n                  country: 'Nigeria',\n                  dob: '2015-11-04',\n                  phone: '166976498',\n                  userImage: 'usersUploads/testFile.png'\n                })\n                .then(user => {\n\n                  Business.create({\n                    businessName: 'Sommy',\n                    description: 'We produce quality products',\n                    street: '4 jvjvkjvj, kfkjfj',\n                    city: 'Sinner',\n                    state: 'Lagos',\n                    country: 'Nigeria',\n                    datefound: '2015-11-04',\n                    email: 'wecon@bfbf.b',\n                    phone: '34165448',\n                    category: 'Production',\n                    companyImage: '',\n                    userId: user.dataValues.id,\n                  }).then(business => {\n\n                    Review.create({\n                      response: 'come',\n                      userId: user.dataValues.id,\n                      businessId: business.dataValues.id,\n                    }).then(review => {\n\n                    request\n                      .get(`/v1/businesses/${business.dataValues.id}/reviews`)\n                      .end((err, res) => {\n                        res.should.have.status(200);\n                        res.body.should.be.a('array');\n                        res.body.should.have.deep.property('0').property('response').eql('come');\n                        res.body.should.have.deep.property('0').property('userId').eql(user.dataValues.id);\n                        res.body.should.have.deep.property('0').property('businessId').eql(business.dataValues.id);\n                        done();\n                      });\n                    });\n                  });\n                });\n    });\n\n\n    it('it should GET empty reviews if reviews does not exists', (done) => {\n\n      User.create({\n            title: 'mr',\n            firstname: 'somto',\n            lastname: 'Ikwuoma',\n            username: 'sommy',\n            password: '123',\n            email: 'somto@gmail.com',\n            gender: 'male',\n            street: 'ljan terrasse 346',\n            city: 'ikotun',\n            state: 'lagos',\n            country: 'Nigeria',\n            dob: '2015-11-04',\n            phone: '66976498',\n            userImage: 'usersUploads/testFile.png'\n          })\n          .then(user => {\n\n            Business.create({\n              businessName: 'Sommy1',\n              description: 'We produce quality products',\n              street: '4 jvjvkjvj, kfkjfj',\n              city: 'Sinner',\n              state: 'Lagos',\n              country: 'Nigeria',\n              datefound: '2015-11-04',\n              email: 'wecon1@bfbf.b',\n              phone: '134165448',\n              category: 'Production',\n              companyImage: '',\n              userId: user.dataValues.id,\n            }).then(business => {\n\n              Review.create({\n                response: 1,\n                userId: user.dataValues.id,\n                businessId: business.dataValues.id,\n              }).then(review => {\n\n                request\n                  .get('/v1/businesses/1/reviews')\n                  .end((err, res) => {\n                    res.should.have.status(200);\n                    res.body.should.be.a('array');\n                    res.body.length.should.be.eql(0);\n                    done();\n                  });\n                });\n              });\n            });\n          });\n      });\n\n  describe('/POST review', () => {\n    it('it should not POST a review without a response', (done) => {\n      User.create({\n            title: 'mr',\n            firstname: 'somto',\n            lastname: 'Ikwuoma',\n            username: 'zuma',\n            password: 'zumarock',\n            email: 'rock@gmail.com',\n            gender: 'male',\n            street: 'ljan terrasse 346',\n            city: 'ikotun',\n            state: 'lagos',\n            country: 'Nigeria',\n            dob: '2015-11-04',\n            phone: '00110011',\n            userImage: 'usersUploads/testFile.png'\n          })\n          .then(user => {\n\n            Business.create({\n              businessName: 'Rocky nation',\n              description: 'We produce quality products',\n              street: '4 jvjvkjvj, kfkjfj',\n              city: 'Sinner',\n              state: 'Lagos',\n              country: 'Nigeria',\n              datefound: '2015-11-04',\n              email: 'bigups@bfbf.b',\n              phone: '111198728',\n              category: 'Production',\n              companyImage: '',\n              userId: user.dataValues.id,\n            }).then(business => {\n\n            request\n              .post(`/v1/businesses/${business.dataValues.id}/reviews`)\n              .send({\n                response: '',\n                userId: `${user.dataValues.id}`,\n                businessId: `${business.dataValues.id}`\n              })\n              .end((err, res) => {\n                res.should.have.status(206);\n                res.body.should.be.a('object');\n                res.body.should.have.property('message').eql('Incomplete field');\n                done();\n              });\n            });\n          });\n    });\n\n    it('it should post a review', (done) => {\n      User.create({\n            title: 'mr',\n            firstname: 'somto',\n            lastname: 'Ikwuoma',\n            username: 'zuma',\n            password: 'zumarock',\n            email: 'rock@gmail.com',\n            gender: 'male',\n            street: 'ljan terrasse 346',\n            city: 'ikotun',\n            state: 'lagos',\n            country: 'Nigeria',\n            dob: '2015-11-04',\n            phone: '00110011',\n            userImage: 'usersUploads/testFile.png'\n          })\n          .then(user => {\n\n            Business.create({\n              businessName: 'Rocky nation',\n              description: 'We produce quality products',\n              street: '4 jvjvkjvj, kfkjfj',\n              city: 'Sinner',\n              state: 'Lagos',\n              country: 'Nigeria',\n              datefound: '2015-11-04',\n              email: 'bigups@bfbf.b',\n              phone: '111198728',\n              category: 'Production',\n              companyImage: '',\n              userId: user.dataValues.id,\n            }).then(business => {\n\n\n            request\n              .post(`/v1/businesses/${business.dataValues.id}/reviews`)\n              .send({\n                response: 'very good.',\n                userId: user.dataValues.id,\n                businessId: business.dataValues.id\n              })\n              .end((err, res) => {\n                res.should.have.status(201);\n                res.body.should.be.a('object');\n                res.body.should.have.property('id').eql(res.body.id);\n                res.body.should.have.property('response').eql('very good.');\n                res.body.should.have.property('userId').eql(user.dataValues.id);\n                res.body.should.have.property('businessId').eql(business.dataValues.id);\n                done();\n              });\n          });\n        });\n      });\n    });\n\n    describe('/PUT review', () => {\n      it('it should update a review given the id', (done) => {\n        User.create({\n              title: 'mr',\n              firstname: 'somto',\n              lastname: 'Ikwuoma',\n              username: 'sommy',\n              password: '123',\n              email: 'somto@gmail.com',\n              gender: 'male',\n              street: 'ljan terrasse 346',\n              city: 'ikotun',\n              state: 'lagos',\n              country: 'Nigeria',\n              dob: '2015-11-04',\n              phone: '66976498',\n              userImage: 'usersUploads/testFile.png'\n            })\n            .then(user => {\n\n              Business.create({\n                businessName: 'Sommy1',\n                description: 'We produce quality products',\n                street: '4 jvjvkjvj, kfkjfj',\n                city: 'Sinner',\n                state: 'Lagos',\n                country: 'Nigeria',\n                datefound: '2015-11-04',\n                email: 'wecon1@bfbf.b',\n                phone: '134165448',\n                category: 'Production',\n                companyImage: '',\n                userId: user.dataValues.id,\n              }).then(business => {\n\n\n                Review.create({\n                  response: 'very good.',\n                  userId: user.dataValues.id,\n                  businessId: business.dataValues.id,\n                }).then(review => {\n\n                  request\n                  .put(`/v1/businesses/${business.dataValues.id}/reviews/${review.dataValues.id}`)\n                  .send({\n                    response: 'just fair',\n                    userId: user.dataValues.id,\n                    businessId: business.dataValues.id\n                  })\n                  .end((err, res) => {\n                    res.should.have.status(200);\n                    res.body.should.have.property('response').eql('just fair');\n                    res.body.should.have.property('userId').eql(user.dataValues.id);\n                    res.body.should.have.property('businessId').eql(business.dataValues.id);\n                    done();\n                  });\n                });\n              });\n          });\n      });\n    });\n});\n"]}