{"version":3,"sources":["index.js"],"names":["Object","defineProperty","exports","value","_fs","require","_fs2","_interopRequireDefault","_path","_path2","_sequelize","_sequelize2","_config","_config2","obj","__esModule","default","basename","__filename","env","process","NODE_ENV","config","db","sequelize","use_env_variable","database","username","password","readdirSync","__dirname","filter","file","indexOf","slice","forEach","model","import","join","name","keys","modelName","associate","Sequelize"],"mappings":"AAAA;;AAEAA,OAAOC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,SAAO;AADoC,CAA7C;;AAIA,IAAIC,MAAMC,QAAQ,IAAR,CAAV;;AAEA,IAAIC,OAAOC,uBAAuBH,GAAvB,CAAX;;AAEA,IAAII,QAAQH,QAAQ,MAAR,CAAZ;;AAEA,IAAII,SAASF,uBAAuBC,KAAvB,CAAb;;AAEA,IAAIE,aAAaL,QAAQ,WAAR,CAAjB;;AAEA,IAAIM,cAAcJ,uBAAuBG,UAAvB,CAAlB;;AAEA,IAAIE,UAAUP,QAAQ,uBAAR,CAAd;;AAEA,IAAIQ,WAAWN,uBAAuBK,OAAvB,CAAf;;AAEA,SAASL,sBAAT,CAAgCO,GAAhC,EAAqC;AAAE,SAAOA,OAAOA,IAAIC,UAAX,GAAwBD,GAAxB,GAA8B,EAAEE,SAASF,GAAX,EAArC;AAAwD;;AAE/F,IAAIG,WAAWR,OAAOO,OAAP,CAAeC,QAAf,CAAwBC,UAAxB,CAAf;AACA,IAAIC,MAAMC,QAAQD,GAAR,CAAYE,QAAZ,IAAwB,aAAlC;AACA,IAAIC,SAAST,SAASG,OAAT,CAAiBG,GAAjB,CAAb;AACA,IAAII,KAAK,EAAT;;AAEA,IAAIC,YAAY,KAAK,CAArB;AACA,IAAIF,OAAOG,gBAAX,EAA6B;AAC3BD,cAAY,IAAIb,YAAYK,OAAhB,CAAwBI,QAAQD,GAAR,CAAYG,OAAOG,gBAAnB,CAAxB,EAA8DH,MAA9D,CAAZ;AACD,CAFD,MAEO;AACLE,cAAY,IAAIb,YAAYK,OAAhB,CAAwBM,OAAOI,QAA/B,EAAyCJ,OAAOK,QAAhD,EAA0DL,OAAOM,QAAjE,EAA2EN,MAA3E,CAAZ;AACD;;AAEDhB,KAAKU,OAAL,CAAaa,WAAb,CAAyBC,SAAzB,EAAoCC,MAApC,CAA2C,UAAUC,IAAV,EAAgB;AACzD,SAAOA,KAAKC,OAAL,CAAa,GAAb,MAAsB,CAAtB,IAA2BD,SAASf,QAApC,IAAgDe,KAAKE,KAAL,CAAW,CAAC,CAAZ,MAAmB,KAA1E;AACD,CAFD,EAEGC,OAFH,CAEW,UAAUH,IAAV,EAAgB;AACzB,MAAII,QAAQZ,UAAUa,MAAV,CAAiB5B,OAAOO,OAAP,CAAesB,IAAf,CAAoBR,SAApB,EAA+BE,IAA/B,CAAjB,CAAZ;AACAT,KAAGa,MAAMG,IAAT,IAAiBH,KAAjB;AACD,CALD;;AAOApC,OAAOwC,IAAP,CAAYjB,EAAZ,EAAgBY,OAAhB,CAAwB,UAAUM,SAAV,EAAqB;AAC3C,MAAIlB,GAAGkB,SAAH,EAAcC,SAAlB,EAA6B;AAC3BnB,OAAGkB,SAAH,EAAcC,SAAd,CAAwBnB,EAAxB;AACD;AACF,CAJD;;AAMAA,GAAGC,SAAH,GAAeA,SAAf;AACAD,GAAGoB,SAAH,GAAehC,YAAYK,OAA3B;;AAEAd,QAAQc,OAAR,GAAkBO,EAAlB","file":"index.js","sourceRoot":"/home/somto/Andela/We-Connect/lib/server/models","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _fs = require('fs');\n\nvar _fs2 = _interopRequireDefault(_fs);\n\nvar _path = require('path');\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _sequelize = require('sequelize');\n\nvar _sequelize2 = _interopRequireDefault(_sequelize);\n\nvar _config = require('../config/config.json');\n\nvar _config2 = _interopRequireDefault(_config);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar basename = _path2.default.basename(__filename);\nvar env = process.env.NODE_ENV || 'development';\nvar config = _config2.default[env];\nvar db = {};\n\nvar sequelize = void 0;\nif (config.use_env_variable) {\n  sequelize = new _sequelize2.default(process.env[config.use_env_variable], config);\n} else {\n  sequelize = new _sequelize2.default(config.database, config.username, config.password, config);\n}\n\n_fs2.default.readdirSync(__dirname).filter(function (file) {\n  return file.indexOf('.') !== 0 && file !== basename && file.slice(-3) === '.js';\n}).forEach(function (file) {\n  var model = sequelize.import(_path2.default.join(__dirname, file));\n  db[model.name] = model;\n});\n\nObject.keys(db).forEach(function (modelName) {\n  if (db[modelName].associate) {\n    db[modelName].associate(db);\n  }\n});\n\ndb.sequelize = sequelize;\ndb.Sequelize = _sequelize2.default;\n\nexports.default = db;"]}